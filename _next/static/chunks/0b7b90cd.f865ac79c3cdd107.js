(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[269],{5243:function(a,b){!function(c,a){a(b)}(this,function(a){"use strict";function j(c){var b,a,d,e;for(a=1,d=arguments.length;a<d;a++)for(b in e=arguments[a])c[b]=e[b];return c}var aG=Object.create||function(){function a(){}return function(b){return a.prototype=b,new a}}();function V(a,c){var b=Array.prototype.slice;if(a.bind)return a.bind.apply(a,b.call(arguments,1));var d=b.call(arguments,2);return function(){return a.apply(c,d.length?d.concat(b.call(arguments)):arguments)}}var aH=0;function W(a){return"_leaflet_id"in a||(a["_leaflet_id"]=++aH),a._leaflet_id}function aI(c,d,e){var f,g,a,b;return b=function(){f=!1,g&&(a.apply(e,g),g=!1)},a=function(){f?g=arguments:(c.apply(e,arguments),setTimeout(b,d),f=!0)}}function aJ(a,d,f){var e=d[1],b=d[0],c=e-b;return a===e&&f?a:((a-b)%c+c)%c+b}function l(){return!1}function aK(b,a){if(!1===a)return b;var c=Math.pow(10,void 0===a?6:a);return Math.round(b*c)/c}function aL(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function aM(a){return aL(a).split(/\s+/)}function X(a,b){for(var c in Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?aG(a.options):{}),b)a.options[c]=b[c];return a.options}function aN(b,c,e){var d=[];for(var a in b)d.push(encodeURIComponent(e?a.toUpperCase():a)+"="+encodeURIComponent(b[a]));return(c&& -1!==c.indexOf("?")?"&":"?")+d.join("&")}var cn=/\{ *([\w_ -]+) *\}/g;function aO(a,b){return a.replace(cn,function(c,d){var a=b[d];if(void 0===a)throw Error("No value provided for variable "+c);return"function"==typeof a&&(a=a(b)),a})}var aP=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};function aQ(b,c){for(var a=0;a<b.length;a++)if(b[a]===c)return a;return -1}var aR="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function z(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var co=0;function aS(c){var a=+new Date,b=Math.max(0,16-(a-co));return co=a+b,window.setTimeout(c,b)}var aT=window.requestAnimationFrame||z("RequestAnimationFrame")||aS,aU=window.cancelAnimationFrame||z("CancelAnimationFrame")||z("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function aV(a,b,c){if(!c||aT!==aS)return aT.call(window,V(a,b));a.call(b)}function aW(a){a&&aU.call(window,a)}var aX={__proto__:null,extend:j,create:aG,bind:V,get lastId(){return aH},stamp:W,throttle:aI,wrapNum:aJ,falseFn:l,formatNum:aK,trim:aL,splitWords:aM,setOptions:X,getParamString:aN,template:aO,isArray:aP,indexOf:aQ,emptyImageUrl:aR,requestFn:aT,cancelFn:aU,requestAnimFrame:aV,cancelAnimFrame:aW};function g(){}g.extend=function(b){var c=function(){X(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},e=c.__super__=this.prototype,a=aG(e);for(var d in a.constructor=c,c.prototype=a,this)Object.prototype.hasOwnProperty.call(this,d)&&"prototype"!==d&&"__super__"!==d&&(c[d]=this[d]);return b.statics&&j(c,b.statics),b.includes&&(function c(a){if("undefined"!=typeof L&&L&&L.Mixin){a=aP(a)?a:[a];for(var b=0;b<a.length;b++)a[b]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",Error().stack)}}(b.includes),j.apply(null,[a].concat(b.includes))),j(a,b),delete a.statics,delete a.includes,a.options&&(a.options=e.options?aG(e.options):{},j(a.options,b.options)),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){e.callInitHooks&&e.callInitHooks.call(this),this._initHooksCalled=!0;for(var b=0,c=a._initHooks.length;b<c;b++)a._initHooks[b].call(this)}},c},g.include=function(a){var b=this.prototype.options;return j(this.prototype,a),a.options&&(this.prototype.options=b,this.mergeOptions(a.options)),this},g.mergeOptions=function(a){return j(this.prototype.options,a),this},g.addInitHook=function(a){var b=Array.prototype.slice.call(arguments,1);return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push("function"==typeof a?a:function(){this[a].apply(this,b)}),this};var d={on:function(a,c,e){if("object"==typeof a)for(var d in a)this._on(d,a[d],c);else{a=aM(a);for(var b=0,f=a.length;b<f;b++)this._on(a[b],c,e)}return this},off:function(a,c,e){if(arguments.length){if("object"==typeof a)for(var d in a)this._off(d,a[d],c);else{a=aM(a);for(var f=1===arguments.length,b=0,g=a.length;b<g;b++)f?this._off(a[b]):this._off(a[b],c,e)}}else delete this._events;return this},_on:function(f,a,b){if("function"!=typeof a){console.warn("wrong listener type: "+typeof a);return}this._events=this._events||{};var c=this._events[f];c||(c=[],this._events[f]=c),b===this&&(b=void 0);for(var g={fn:a,ctx:b},d=c,e=0,h=d.length;e<h;e++)if(d[e].fn===a&&d[e].ctx===b)return;d.push(g)},_off:function(d,e,f){var b,a,c;if(this._events&&(b=this._events[d])){if(1===arguments.length){if(this._firingCount)for(a=0,c=b.length;a<c;a++)b[a].fn=l;delete this._events[d];return}if(f===this&&(f=void 0),"function"!=typeof e){console.warn("wrong listener type: "+typeof e);return}for(a=0,c=b.length;a<c;a++){var g=b[a];if(g.ctx===f&&g.fn===e){this._firingCount&&(g.fn=l,this._events[d]=b=b.slice()),b.splice(a,1);return}}console.warn("listener not found")}},fire:function(a,b,e){if(!this.listens(a,e))return this;var f=j({},b,{type:a,target:this,sourceTarget:b&&b.sourceTarget||this});if(this._events){var c=this._events[a];if(c){this._firingCount=this._firingCount+1||1;for(var d=0,h=c.length;d<h;d++){var g=c[d];g.fn.call(g.ctx||this,f)}this._firingCount--}}return e&&this._propagateEvent(f),this},listens:function(a,b){"string"!=typeof a&&console.warn('"string" type argument expected');var c=this._events&&this._events[a];if(c&&c.length)return!0;if(b){for(var d in this._eventParents)if(this._eventParents[d].listens(a,b))return!0}return!1},once:function(a,b,c){if("object"==typeof a){for(var d in a)this.once(d,a[d],b);return this}var e=V(function(){this.off(a,b,c).off(a,e,c)},this);return this.on(a,b,c).on(a,e,c)},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[W(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[W(a)],this},_propagateEvent:function(a){for(var b in this._eventParents)this._eventParents[b].fire(a.type,j({layer:a.target,propagatedFrom:a.target},a),!0)}};d.addEventListener=d.on,d.removeEventListener=d.clearAllEventListeners=d.off,d.addOneTimeEventListener=d.once,d.fireEvent=d.fire,d.hasEventListeners=d.listens;var m=g.extend(d);function Y(a,b,c){this.x=c?Math.round(a):a,this.y=c?Math.round(b):b}var cp=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};function aY(a,b,c){return a instanceof Y?a:aP(a)?new Y(a[0],a[1]):null==a?a:"object"==typeof a&&"x"in a&&"y"in a?new Y(a.x,a.y):new Y(a,b,c)}function n(a,c){if(a)for(var d=c?[a,c]:a,b=0,e=d.length;b<e;b++)this.extend(d[b])}function aZ(a,b){return!a||a instanceof n?a:new n(a,b)}function Z(a,c){if(a)for(var d=c?[a,c]:a,b=0,e=d.length;b<e;b++)this.extend(d[b])}function a$(a,b){return a instanceof Z?a:new Z(a,b)}function $(a,b,c){if(isNaN(a)||isNaN(b))throw Error("Invalid LatLng object: ("+a+", "+b+")");this.lat=+a,this.lng=+b,void 0!==c&&(this.alt=+c)}function a_(a,b,c){return a instanceof $?a:aP(a)&&"object"!=typeof a[0]?3===a.length?new $(a[0],a[1],a[2]):2===a.length?new $(a[0],a[1]):null:null==a?a:"object"==typeof a&&"lat"in a?new $(a.lat,"lng"in a?a.lng:a.lon,a.alt):void 0===b?null:new $(a,b,c)}Y.prototype={clone:function(){return new Y(this.x,this.y)},add:function(a){return this.clone()._add(aY(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(aY(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new Y(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new Y(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=cp(this.x),this.y=cp(this.y),this},distanceTo:function(a){var b=(a=aY(a)).x-this.x,c=a.y-this.y;return Math.sqrt(b*b+c*c)},equals:function(a){return(a=aY(a)).x===this.x&&a.y===this.y},contains:function(a){return Math.abs((a=aY(a)).x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+aK(this.x)+", "+aK(this.y)+")"}},n.prototype={extend:function(a){return a=aY(a),this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)):(this.min=a.clone(),this.max=a.clone()),this},getCenter:function(a){return new Y((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new Y(this.min.x,this.max.y)},getTopRight:function(){return new Y(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var b,c;return(a="number"==typeof a[0]||a instanceof Y?aY(a):aZ(a))instanceof n?(b=a.min,c=a.max):b=c=a,b.x>=this.min.x&&c.x<=this.max.x&&b.y>=this.min.y&&c.y<=this.max.y},intersects:function(a){a=aZ(a);var b=this.min,c=this.max,d=a.min,e=a.max,f=e.x>=b.x&&d.x<=c.x,g=e.y>=b.y&&d.y<=c.y;return f&&g},overlaps:function(a){a=aZ(a);var b=this.min,c=this.max,d=a.min,e=a.max,f=e.x>b.x&&d.x<c.x,g=e.y>b.y&&d.y<c.y;return f&&g},isValid:function(){return!!(this.min&&this.max)}},Z.prototype={extend:function(a){var b,c,d=this._southWest,e=this._northEast;if(a instanceof $)b=a,c=a;else if(!(a instanceof Z))return a?this.extend(a_(a)||a$(a)):this;else if(b=a._southWest,c=a._northEast,!b||!c)return this;return d||e?(d.lat=Math.min(b.lat,d.lat),d.lng=Math.min(b.lng,d.lng),e.lat=Math.max(c.lat,e.lat),e.lng=Math.max(c.lng,e.lng)):(this._southWest=new $(b.lat,b.lng),this._northEast=new $(c.lat,c.lng)),this},pad:function(c){var a=this._southWest,b=this._northEast,d=Math.abs(a.lat-b.lat)*c,e=Math.abs(a.lng-b.lng)*c;return new Z(new $(a.lat-d,a.lng-e),new $(b.lat+d,b.lng+e))},getCenter:function(){return new $((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new $(this.getNorth(),this.getWest())},getSouthEast:function(){return new $(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){a="number"==typeof a[0]||a instanceof $||"lat"in a?a_(a):a$(a);var b,c,d=this._southWest,e=this._northEast;return a instanceof Z?(b=a.getSouthWest(),c=a.getNorthEast()):b=c=a,b.lat>=d.lat&&c.lat<=e.lat&&b.lng>=d.lng&&c.lng<=e.lng},intersects:function(a){a=a$(a);var b=this._southWest,c=this._northEast,d=a.getSouthWest(),e=a.getNorthEast(),f=e.lat>=b.lat&&d.lat<=c.lat,g=e.lng>=b.lng&&d.lng<=c.lng;return f&&g},overlaps:function(a){a=a$(a);var b=this._southWest,c=this._northEast,d=a.getSouthWest(),e=a.getNorthEast(),f=e.lat>b.lat&&d.lat<c.lat,g=e.lng>b.lng&&d.lng<c.lng;return f&&g},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,b){return!!a&&(a=a$(a),this._southWest.equals(a.getSouthWest(),b)&&this._northEast.equals(a.getNorthEast(),b))},isValid:function(){return!!(this._southWest&&this._northEast)}},$.prototype={equals:function(a,b){return!!a&&(a=a_(a),Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng))<=(void 0===b?1e-9:b))},toString:function(a){return"LatLng("+aK(this.lat,a)+", "+aK(this.lng,a)+")"},distanceTo:function(a){return s.distance(this,a_(a))},wrap:function(){return s.wrapLatLng(this)},toBounds:function(c){var a=180*c/40075017,b=a/Math.cos(Math.PI/180*this.lat);return a$([this.lat-a,this.lng-b],[this.lat+a,this.lng+b])},clone:function(){return new $(this.lat,this.lng,this.alt)}};var A,B,cq,cr,cs,ct,o,h={latLngToPoint:function(a,b){var c=this.projection.project(a),d=this.scale(b);return this.transformation._transform(c,d)},pointToLatLng:function(a,b){var c=this.scale(b),d=this.transformation.untransform(a,c);return this.projection.unproject(d)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(c){if(this.infinite)return null;var a=this.projection.bounds,b=this.scale(c),d=this.transformation.transform(a.min,b),e=this.transformation.transform(a.max,b);return new n(d,e)},infinite:!1,wrapLatLng:function(a){var b=this.wrapLng?aJ(a.lng,this.wrapLng,!0):a.lng,c=this.wrapLat?aJ(a.lat,this.wrapLat,!0):a.lat,d=a.alt;return new $(c,b,d)},wrapLatLngBounds:function(a){var b=a.getCenter(),e=this.wrapLatLng(b),c=b.lat-e.lat,d=b.lng-e.lng;if(0===c&&0===d)return a;var f=a.getSouthWest(),g=a.getNorthEast(),h=new $(f.lat-c,f.lng-d),i=new $(g.lat-c,g.lng-d);return new Z(h,i)}},s=j({},h,{wrapLng:[-180,180],R:6371e3,distance:function(b,c){var a=Math.PI/180,g=b.lat*a,h=c.lat*a,d=Math.sin((c.lat-b.lat)*a/2),e=Math.sin((c.lng-b.lng)*a/2),f=d*d+Math.cos(g)*Math.cos(h)*e*e;return this.R*(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)))}}),C={R:6378137,MAX_LATITUDE:85.0511287798,project:function(a){var b=Math.PI/180,c=this.MAX_LATITUDE,e=Math.max(Math.min(c,a.lat),-c),d=Math.sin(e*b);return new Y(this.R*a.lng*b,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(a){var b=180/Math.PI;return new $((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*b,a.x*b/this.R)},bounds:(o=6378137*Math.PI,new n([-o,-o],[o,o]))};function _(a,b,c,d){if(aP(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=b,this._c=c,this._d=d}function p(a,b,c,d){return new _(a,b,c,d)}_.prototype={transform:function(a,b){return this._transform(a.clone(),b)},_transform:function(a,b){return b=b||1,a.x=b*(this._a*a.x+this._b),a.y=b*(this._c*a.y+this._d),a},untransform:function(b,a){return a=a||1,new Y((b.x/a-this._b)/this._a,(b.y/a-this._d)/this._c)}};var D=j({},s,{code:"EPSG:3857",projection:C,transformation:p(cu=.5/(Math.PI*C.R),.5,-cu,.5)}),a0=j({},D,{code:"EPSG:900913"});function aa(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function a1(f,j){var b,a,g,h,i,d,e="";for(b=0,g=f.length;b<g;b++){for(a=0,h=(i=f[b]).length;a<h;a++)d=i[a],e+=(a?"L":"M")+d.x+" "+d.y;e+=j?c.svg?"z":"x":""}return e||"M0 0"}var cu,E,F=document.documentElement.style,t="ActiveXObject"in window,a2=t&&!document.addEventListener,ab="msLaunchUri"in navigator&&!("documentMode"in document),G=cv("webkit"),ac=cv("android"),ad=cv("android 2")||cv("android 3"),a3=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),a4=ac&&cv("Google")&&a3<537&&!("AudioNode"in window),H=!!window.opera,ae=!ab&&cv("chrome"),af=cv("gecko")&&!G&&!H&&!t,a5=!ae&&cv("safari"),ag=cv("phantom"),ah="OTransition"in F,a6=0===navigator.platform.indexOf("Win"),ai=t&&"transition"in F,I="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ad,aj="MozPerspective"in F,a7=!window.L_DISABLE_3D&&(ai||I||aj)&&!ah&&!ag,q="undefined"!=typeof orientation||cv("mobile"),ak=!window.PointerEvent&&window.MSPointerEvent,al=!!(window.PointerEvent||ak),am="ontouchstart"in window||!!window.TouchEvent,a8=!window.L_NO_TOUCH&&(am||al),a9=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ba=function(){var b=!1;try{var a=Object.defineProperty({},"passive",{get:function(){b=!0}});window.addEventListener("testPassiveEventSupport",l,a),window.removeEventListener("testPassiveEventSupport",l,a)}catch(c){}return b}(),bb=!!document.createElement("canvas").getContext,J=!!(document.createElementNS&&aa("svg").createSVGRect),bc=!!J&&((E=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(E.firstChild&&E.firstChild.namespaceURI)),bd=!J&&function(){try{var b=document.createElement("div");b.innerHTML='<v:shape adj="1"/>';var a=b.firstChild;return a.style.behavior="url(#default#VML)",a&&"object"==typeof a.adj}catch(c){return!1}}();function cv(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var c={ie:t,ielt9:a2,edge:ab,webkit:G,android:ac,android23:ad,androidStock:a4,opera:H,chrome:ae,gecko:af,safari:a5,phantom:ag,opera12:ah,win:a6,ie3d:ai,webkit3d:I,gecko3d:aj,any3d:a7,mobile:q,mobileWebkit:q&&G,mobileWebkit3d:q&&I,msPointer:ak,pointer:al,touch:a8,touchNative:am,mobileOpera:q&&H,mobileGecko:q&&af,retina:a9,passiveEvents:ba,canvas:bb,svg:J,vml:bd,inlineSvg:bc},be=c.msPointer?"MSPointerDown":"pointerdown",bf=c.msPointer?"MSPointerMove":"pointermove",bg=c.msPointer?"MSPointerUp":"pointerup",bh=c.msPointer?"MSPointerCancel":"pointercancel",cw={touchstart:be,touchmove:bf,touchend:bg,touchcancel:bh},cx={touchstart:function(b,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&bK(a),cD(b,a)},touchmove:cD,touchend:cD,touchcancel:cD},cy={},cz=!1;function cA(a){cy[a.pointerId]=a}function cB(a){cy[a.pointerId]&&(cy[a.pointerId]=a)}function cC(a){delete cy[a.pointerId]}function cD(b,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){for(var c in a.touches=[],cy)a.touches.push(cy[c]);a.changedTouches=[a],b(a)}}var bi=an(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),u=an(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),bj="webkitTransition"===u||"OTransition"===u?u+"End":"transitionend";function bk(a){return"string"==typeof a?document.getElementById(a):a}function bl(b,c){var a=b.style[c]||b.currentStyle&&b.currentStyle[c];if((!a||"auto"===a)&&document.defaultView){var d=document.defaultView.getComputedStyle(b,null);a=d?d[c]:null}return"auto"===a?null:a}function bm(c,d,b){var a=document.createElement(c);return a.className=d||"",b&&b.appendChild(a),a}function bn(a){var b=a.parentNode;b&&b.removeChild(a)}function bo(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function bp(a){var b=a.parentNode;b&&b.lastChild!==a&&b.appendChild(a)}function bq(b){var a=b.parentNode;a&&a.firstChild!==b&&a.insertBefore(b,a.firstChild)}function br(a,b){if(void 0!==a.classList)return a.classList.contains(b);var c=bv(a);return c.length>0&&RegExp("(^|\\s)"+b+"(\\s|$)").test(c)}function bs(a,b){if(void 0!==a.classList)for(var d=aM(b),c=0,f=d.length;c<f;c++)a.classList.add(d[c]);else if(!br(a,b)){var e=bv(a);bu(a,(e?e+" ":"")+b)}}function bt(a,b){void 0!==a.classList?a.classList.remove(b):bu(a,aL((" "+bv(a)+" ").replace(" "+b+" "," ")))}function bu(a,b){void 0===a.className.baseVal?a.className=b:a.className.baseVal=b}function bv(a){return a.correspondingElement&&(a=a.correspondingElement),void 0===a.className.baseVal?a.className:a.className.baseVal}function bw(a,b){"opacity"in a.style?a.style.opacity=b:"filter"in a.style&&cE(a,b)}function cE(c,a){var b=!1,d="DXImageTransform.Microsoft.Alpha";try{b=c.filters.item(d)}catch(e){if(1===a)return}a=Math.round(100*a),b?(b.Enabled=100!==a,b.Opacity=a):c.style.filter+=" progid:"+d+"(opacity="+a+")"}function an(b){for(var c=document.documentElement.style,a=0;a<b.length;a++)if(b[a]in c)return b[a];return!1}function bx(d,e,b){var a=e||new Y(0,0);d.style[bi]=(c.ie3d?"translate("+a.x+"px,"+a.y+"px)":"translate3d("+a.x+"px,"+a.y+"px,0)")+(b?" scale("+b+")":"")}function by(a,b){a._leaflet_pos=b,c.any3d?bx(a,b):(a.style.left=b.x+"px",a.style.top=b.y+"px")}function bz(a){return a._leaflet_pos||new Y(0,0)}if("onselectstart"in document)A=function(){ao(window,"selectstart",bK)},B=function(){ap(window,"selectstart",bK)};else{var cF=an(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);A=function(){if(cF){var a=document.documentElement.style;cq=a[cF],a[cF]="none"}},B=function(){cF&&(document.documentElement.style[cF]=cq,cq=void 0)}}function bA(){ao(window,"dragstart",bK)}function bB(){ap(window,"dragstart",bK)}function bC(a){for(;-1===a.tabIndex;)a=a.parentNode;a.style&&(bD(),cr=a,cs=a.style.outline,a.style.outline="none",ao(window,"keydown",bD))}function bD(){cr&&(cr.style.outline=cs,cr=void 0,cs=void 0,ap(window,"keydown",bD))}function bE(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body)return a}function bF(a){var b=a.getBoundingClientRect();return{x:b.width/a.offsetWidth||1,y:b.height/a.offsetHeight||1,boundingClientRect:b}}var bG={__proto__:null,TRANSFORM:bi,TRANSITION:u,TRANSITION_END:bj,get:bk,getStyle:bl,create:bm,remove:bn,empty:bo,toFront:bp,toBack:bq,hasClass:br,addClass:bs,removeClass:bt,setClass:bu,getClass:bv,setOpacity:bw,testProp:an,setTransform:bx,setPosition:by,getPosition:bz,get disableTextSelection(){return A},get enableTextSelection(){return B},disableImageDrag:bA,enableImageDrag:bB,preventOutline:bC,restoreOutline:bD,getSizedParentNode:bE,getScale:bF};function ao(c,a,d,f){if(a&&"object"==typeof a)for(var e in a)cJ(c,e,a[e],d);else{a=aM(a);for(var b=0,g=a.length;b<g;b++)cJ(c,a[b],d,f)}return this}var cG="_leaflet_events";function ap(b,a,d,f){if(1===arguments.length)cH(b),delete b[cG];else if(a&&"object"==typeof a)for(var e in a)cK(b,e,a[e],d);else if(a=aM(a),2===arguments.length)cH(b,function(b){return -1!==aQ(a,b)});else for(var c=0,g=a.length;c<g;c++)cK(b,a[c],d,f);return this}function cH(a,b){for(var c in a[cG]){var d=c.split(/\d/)[0];(!b||b(d))&&cK(a,d,null,null,c)}}var cI={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function cJ(b,a,g,e){var f=a+W(g)+(e?"_"+W(e):"");if(b[cG]&&b[cG][f])return this;var d=function(a){return g.call(e||b,a||window.event)},h=d;!c.touchNative&&c.pointer&&0===a.indexOf("touch")?d=function(c,a,b){return("touchstart"===a&&(cz||(document.addEventListener(be,cA,!0),document.addEventListener(bf,cB,!0),document.addEventListener(bg,cC,!0),document.addEventListener(bh,cC,!0),cz=!0)),cx[a])?(b=cx[a].bind(this,b),c.addEventListener(cw[a],b,!1),b):(console.warn("wrong event specified:",a),L.Util.falseFn)}(b,a,d):c.touch&&"dblclick"===a?d=function(a,b){a.addEventListener("dblclick",b);var d,e=0;function c(a){if(1!==a.detail){d=a.detail;return}if("mouse"!==a.pointerType&&(!a.sourceCapabilities||a.sourceCapabilities.firesTouchEvents)){var c=Date.now();c-e<=200?2== ++d&&b(function(c){var b,d,a={};for(d in c)b=c[d],a[d]=b&&b.bind?b.bind(c):b;return c=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}(a)):d=1,e=c}}return a.addEventListener("click",c),{dblclick:b,simDblclick:c}}(b,d):"addEventListener"in b?"touchstart"===a||"touchmove"===a||"wheel"===a||"mousewheel"===a?b.addEventListener(cI[a]||a,d,!!c.passiveEvents&&{passive:!1}):"mouseenter"===a||"mouseleave"===a?(d=function(a){bO(b,a=a||window.event)&&h(a)},b.addEventListener(cI[a],d,!1)):b.addEventListener(a,h,!1):b.attachEvent("on"+a,d),b[cG]=b[cG]||{},b[cG][f]=d}function cK(a,b,i,h,e){e=e||b+W(i)+(h?"_"+W(h):"");var f,g,d=a[cG]&&a[cG][e];if(!d)return this;!c.touchNative&&c.pointer&&0===b.indexOf("touch")?!function(b,a,c){if(!cw[a]){console.warn("wrong event specified:",a);return}b.removeEventListener(cw[a],c,!1)}(a,b,d):c.touch&&"dblclick"===b?(f=a,g=d,f.removeEventListener("dblclick",g.dblclick),f.removeEventListener("click",g.simDblclick)):"removeEventListener"in a?a.removeEventListener(cI[b]||b,d,!1):a.detachEvent("on"+b,d),a[cG][e]=null}function bH(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function bI(a){return cJ(a,"wheel",bH),this}function bJ(a){return ao(a,"mousedown touchstart dblclick contextmenu",bH),a["_leaflet_disable_click"]=!0,this}function bK(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function bL(a){return bK(a),bH(a),this}function bM(a,b){if(!b)return new Y(a.clientX,a.clientY);var c=bF(b),d=c.boundingClientRect;return new Y((a.clientX-d.left)/c.x-b.clientLeft,(a.clientY-d.top)/c.y-b.clientTop)}var cL=c.win&&c.chrome?2*window.devicePixelRatio:c.gecko?window.devicePixelRatio:1;function bN(a){return c.edge?a.wheelDeltaY/2:a.deltaY&&0===a.deltaMode?-a.deltaY/cL:a.deltaY&&1===a.deltaMode?-(20*a.deltaY):a.deltaY&&2===a.deltaMode?-(60*a.deltaY):a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&32765>Math.abs(a.detail)?-(20*a.detail):a.detail?-(60*(a.detail/32765)):0}function bO(b,c){var a=c.relatedTarget;if(!a)return!0;try{for(;a&&a!==b;)a=a.parentNode}catch(d){return!1}return a!==b}var bP=m.extend({run:function(a,b,c,d){this.stop(),this._el=a,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=bz(a),this._offset=b.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=aV(this._animate,this),this._step()},_step:function(c){var a=+new Date-this._startTime,b=1e3*this._duration;a<b?this._runFrame(this._easeOut(a/b),c):(this._runFrame(1),this._complete())},_runFrame:function(b,c){var a=this._startPos.add(this._offset.multiplyBy(b));c&&a._round(),by(this._el,a),this.fire("step")},_complete:function(){aW(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),b=m.extend({options:{crs:D,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(b,a){a=X(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(b),this._initLayout(),this._onResize=V(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),void 0!==a.zoom&&(this._zoom=this._limitZoom(a.zoom)),a.center&& void 0!==a.zoom&&this.setView(a_(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=u&&c.any3d&&!c.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ao(this._proxy,bj,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(c,b,a){return(b=void 0===b?this._zoom:this._limitZoom(b),c=this._limitCenter(a_(c),b,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&& !0!==a&&(void 0!==a.animate&&(a.zoom=j({animate:a.animate},a.zoom),a.pan=j({animate:a.animate,duration:a.duration},a.pan)),this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(c,b,a.zoom):this._tryAnimatedPan(c,a.pan)))?(clearTimeout(this._sizeTimer),this):(this._resetView(c,b),this)},setZoom:function(a,b){return this._loaded?this.setView(this.getCenter(),a,{zoom:b}):(this._zoom=a,this)},zoomIn:function(a,b){return a=a||(c.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,b)},zoomOut:function(a,b){return a=a||(c.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,b)},setZoomAround:function(a,b,d){var e=this.getZoomScale(b),c=this.getSize().divideBy(2),f=(a instanceof Y?a:this.latLngToContainerPoint(a)).subtract(c).multiplyBy(1-1/e),g=this.containerPointToLatLng(c.add(f));return this.setView(g,b,{zoom:d})},_getBoundsCenterZoom:function(a,b){b=b||{},a=a.getBounds?a.getBounds():a$(a);var d=aY(b.paddingTopLeft||b.padding||[0,0]),e=aY(b.paddingBottomRight||b.padding||[0,0]),c=this.getBoundsZoom(a,!1,d.add(e));if((c="number"==typeof b.maxZoom?Math.min(b.maxZoom,c):c)===1/0)return{center:a.getCenter(),zoom:c};var f=e.subtract(d).divideBy(2),g=this.project(a.getSouthWest(),c),h=this.project(a.getNorthEast(),c);return{center:this.unproject(g.add(h).divideBy(2).add(f),c),zoom:c}},fitBounds:function(a,b){if(!(a=a$(a)).isValid())throw Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(a,b);return this.setView(c.center,c.zoom,b)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,b){return this.setView(a,this._zoom,{pan:b})},panBy:function(a,b){if(a=aY(a).round(),b=b||{},!a.x&&!a.y)return this.fire("moveend");if(!0!==b.animate&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new bP,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),!1!==b.animate){bs(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,c,b.duration||.25,b.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(d,b,a){if(!1===(a=a||{}).animate||!c.any3d)return this.setView(d,b,a);this._stop();var h=this.project(this.getCenter()),i=this.project(d),e=this.getSize(),f=this._zoom;d=a_(d),b=void 0===b?f:b;var j=Math.max(e.x,e.y),n=j*this.getZoomScale(f,b),o=i.distanceTo(h)||1,p=1.42*1.42;function g(b){var a=(n*n-j*j+(b?-1:1)*p*p*o*o)/(2*(b?n:j)*p*o),c=Math.sqrt(a*a+1)-a;return c<1e-9?-18:Math.log(c)}function q(a){return(Math.exp(a)-Math.exp(-a))/2}function r(a){return(Math.exp(a)+Math.exp(-a))/2}var k=g(0),s=Date.now(),l=(g(1)-k)/1.42,t=a.duration?1e3*a.duration:1e3*l*.8;function m(){var a,c,e,u,g=(Date.now()-s)/t,n=(1-Math.pow(1-(u=g),1.5))*l;g<=1?(this._flyToFrame=aV(m,this),this._move(this.unproject(h.add(i.subtract(h).multiplyBy((a=n,j*(r(k)*(q(c=k+1.42*a)/r(c))-q(k))/p/o))),f),this.getScaleZoom(j/(e=n,j*(r(k)/r(k+1.42*e))),f),{flyTo:!0})):this._move(d,b)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),m.call(this),this},flyToBounds:function(c,a){var b=this._getBoundsCenterZoom(c,a);return this.flyTo(b.center,b.zoom,a)},setMaxBounds:function(a){return(a=a$(a)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(a){var b=this.options.minZoom;return(this.options.minZoom=a,this._loaded&&b!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom))?this.setZoom(a):this},setMaxZoom:function(a){var b=this.options.maxZoom;return(this.options.maxZoom=a,this._loaded&&b!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom))?this.setZoom(a):this},panInsideBounds:function(c,d){this._enforcingBounds=!0;var a=this.getCenter(),b=this._limitCenter(a,this._zoom,a$(c));return a.equals(b)||this.panTo(b,d),this._enforcingBounds=!1,this},panInside:function(h,a){a=a||{};var i=aY(a.paddingTopLeft||a.padding||[0,0]),j=aY(a.paddingBottomRight||a.padding||[0,0]),d=this.project(this.getCenter()),e=this.project(h),f=this.getPixelBounds(),b=aZ([f.min.add(i),f.max.subtract(j)]),k=b.getSize();if(!b.contains(e)){this._enforcingBounds=!0;var g=e.subtract(b.getCenter()),c=b.extend(e).getSize().subtract(k);d.x+=g.x<0?-c.x:c.x,d.y+=g.y<0?-c.y:c.y,this.panTo(this.unproject(d),a),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=j({animate:!1,pan:!0},!0===a?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),e=c.divideBy(2).round(),f=d.divideBy(2).round(),b=e.subtract(f);return b.x||b.y?(a.animate&&a.pan?this.panBy(b):(a.pan&&this._rawPanBy(b),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(V(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:d})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=j({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var b=V(this._handleGeolocationResponse,this),c=V(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,c,a):navigator.geolocation.getCurrentPosition(b,c,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(b){if(this._container._leaflet_id){var a=b.code,c=b.message||(1===a?"permission denied":2===a?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var h=a.coords.latitude,i=a.coords.longitude,b=new $(h,i),e=b.toBounds(2*a.coords.accuracy),c=this._locateOptions;if(c.setView){var f=this.getBoundsZoom(e);this.setView(b,c.maxZoom?Math.min(f,c.maxZoom):f)}var g={latlng:b,bounds:e,timestamp:a.timestamp};for(var d in a.coords)"number"==typeof a.coords[d]&&(g[d]=a.coords[d]);this.fire("locationfound",g)}},addHandler:function(a,b){if(!b)return this;var c=this[a]=new b(this);return this._handlers.push(c),this.options[a]&&c.enable(),this},remove:function(){var a;if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(b){this._container._leaflet_id=void 0,this._containerId=void 0}for(a in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),bn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(aW(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[a].remove();for(a in this._panes)bn(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var b=bm("div","leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),c||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return(this._checkIfLoaded(),this._lastCenter&&!this._moved())?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),b=this.unproject(a.getBottomLeft()),c=this.unproject(a.getTopRight());return new Z(b,c)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,f,e){d=a$(d),e=aY(e||[0,0]);var a=this.getZoom()||0,k=this.getMinZoom(),l=this.getMaxZoom(),m=d.getNorthWest(),n=d.getSouthEast(),g=this.getSize().subtract(e),h=aZ(this.project(n,a),this.project(m,a)).getSize(),b=c.any3d?this.options.zoomSnap:1,i=g.x/h.x,j=g.y/h.y,o=f?Math.max(i,j):Math.min(i,j);return a=this.getScaleZoom(o,a),b&&(a=Math.round(a/(b/100))*(b/100),a=f?Math.ceil(a/b)*b:Math.floor(a/b)*b),Math.max(k,Math.min(l,a))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Y(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(b,c){var a=this._getTopLeftPoint(b,c);return new n(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(void 0===a?this.getZoom():a)},getPane:function(a){return"string"==typeof a?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(c,a){var b=this.options.crs;return a=void 0===a?this._zoom:a,b.scale(c)/b.scale(a)},getScaleZoom:function(d,a){var b=this.options.crs;a=void 0===a?this._zoom:a;var c=b.zoom(d*b.scale(a));return isNaN(c)?1/0:c},project:function(b,a){return a=void 0===a?this._zoom:a,this.options.crs.latLngToPoint(a_(b),a)},unproject:function(b,a){return a=void 0===a?this._zoom:a,this.options.crs.pointToLatLng(aY(b),a)},layerPointToLatLng:function(a){var b=aY(a).add(this.getPixelOrigin());return this.unproject(b)},latLngToLayerPoint:function(a){return this.project(a_(a))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(a_(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(a$(a))},distance:function(a,b){return this.options.crs.distance(a_(a),a_(b))},containerPointToLayerPoint:function(a){return aY(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return aY(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var b=this.containerPointToLayerPoint(aY(a));return this.layerPointToLatLng(b)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(a_(a)))},mouseEventToContainerPoint:function(a){return bM(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(b){var a=this._container=bk(b);if(a){if(a._leaflet_id)throw Error("Map container is already initialized.")}else throw Error("Map container not found.");ao(a,"scroll",this._onScroll,this),this._containerId=W(a)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&c.any3d,bs(a,"leaflet-container"+(c.touch?" leaflet-touch":"")+(c.retina?" leaflet-retina":"")+(c.ielt9?" leaflet-oldie":"")+(c.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var b=bl(a,"position");"absolute"!==b&&"relative"!==b&&"fixed"!==b&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),by(this._mapPane,new Y(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(bs(a.markerPane,"leaflet-zoom-hide"),bs(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(c,a){by(this._mapPane,new Y(0,0));var d=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var b=this._zoom!==a;this._moveStart(b,!1)._move(c,a)._moveEnd(b),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(a,b){return a&&this.fire("zoomstart"),b||this.fire("movestart"),this},_move:function(c,b,a,d){void 0===b&&(b=this._zoom);var e=this._zoom!==b;return this._zoom=b,this._lastCenter=c,this._pixelOrigin=this._getNewPixelOrigin(c),d?a&&a.pinch&&this.fire("zoom",a):((e||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return aW(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){by(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[W(this._container)]=this;var b=a?ap:ao;b(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&b(window,"resize",this._onResize,this),c.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){aW(this._resizeRequest),this._resizeRequest=aV(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,a){for(var c,d=[],f="mouseout"===a||"mouseover"===a,b=e.target||e.srcElement,g=!1;b;){if((c=this._targets[W(b)])&&("click"===a||"preclick"===a)&&this._draggableMoved(c)){g=!0;break}if(c&&c.listens(a,!0)&&(f&&!bO(b,e)||(d.push(c),f))||b===this._container)break;b=b.parentNode}return!d.length&&!g&&!f&&this.listens(a,!0)&&(d=[this]),d},_isClickDisabled:function(a){for(;a!==this._container;){if(a["_leaflet_disable_click"])return!0;a=a.parentNode}},_handleDOMEvent:function(a){var b=a.target||a.srcElement;if(!(!this._loaded||b["_leaflet_disable_events"]||"click"===a.type&&this._isClickDisabled(b))){var c=a.type;"mousedown"===c&&bC(b),this._fireDOMEvent(a,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,e,f){if("click"===a.type){var h=j({},a);h.type="preclick",this._fireDOMEvent(h,h.type,f)}var c=this._findEventTargets(a,e);if(f){for(var i=[],b=0;b<f.length;b++)f[b].listens(e,!0)&&i.push(f[b]);c=i.concat(c)}if(c.length){"contextmenu"===e&&bK(a);var g=c[0],d={originalEvent:a};if("keypress"!==a.type&&"keydown"!==a.type&&"keyup"!==a.type){var k=g.getLatLng&&(!g._radius||g._radius<=10);d.containerPoint=k?this.latLngToContainerPoint(g.getLatLng()):this.mouseEventToContainerPoint(a),d.layerPoint=this.containerPointToLayerPoint(d.containerPoint),d.latlng=k?g.getLatLng():this.layerPointToLatLng(d.layerPoint)}for(b=0;b<c.length;b++)if(c[b].fire(e,d,!0),d.originalEvent._stopped|| !1===c[b].options.bubblingMouseEvents&& -1!==aQ(this._mouseEvents,e))return}},_draggableMoved:function(a){return(a=a.dragging&&a.dragging.enabled()?a:this).dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,b=this._handlers.length;a<b;a++)this._handlers[a].disable()},whenReady:function(a,b){return this._loaded?a.call(b||this,{target:this}):this.on("load",a,b),this},_getMapPanePos:function(){return bz(this._mapPane)||new Y(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,b){return(a&& void 0!==b?this._getNewPixelOrigin(a,b):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,b){var c=this.getSize()._divideBy(2);return this.project(a,b)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(b,a,c){var d=this._getNewPixelOrigin(c,a);return this.project(b,a)._subtract(d)},_latLngBoundsToNewLayerBounds:function(b,a,d){var c=this._getNewPixelOrigin(d,a);return aZ([this.project(b.getSouthWest(),a)._subtract(c),this.project(b.getNorthWest(),a)._subtract(c),this.project(b.getSouthEast(),a)._subtract(c),this.project(b.getNorthEast(),a)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,b,d){if(!d)return a;var c=this.project(a,b),e=this.getSize().divideBy(2),g=new n(c.subtract(e),c.add(e)),f=this._getBoundsOffset(g,d,b);return f.round().equals([0,0])?a:this.unproject(c.add(f),b)},_limitOffset:function(a,b){if(!b)return a;var c=this.getPixelBounds(),d=new n(c.min.add(a),c.max.add(a));return a.add(this._getBoundsOffset(d,b))},_getBoundsOffset:function(a,b,c){var d=aZ(this.project(b.getNorthEast(),c),this.project(b.getSouthWest(),c)),e=d.min.subtract(a.min),f=d.max.subtract(a.max),g=this._rebound(e.x,-f.x),h=this._rebound(e.y,-f.y);return new Y(g,h)},_rebound:function(a,b){return a+b>0?Math.round(a-b)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(b))},_limitZoom:function(a){var d=this.getMinZoom(),e=this.getMaxZoom(),b=c.any3d?this.options.zoomSnap:1;return b&&(a=Math.round(a/b)*b),Math.max(d,Math.min(e,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){bt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(c,a){var b=this._getCenterOffset(c)._trunc();return!!(!0===(a&&a.animate)||this.getSize().contains(b))&&(this.panBy(b,a),!0)},_createAnimProxy:function(){var a=this._proxy=bm("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(a){var b=bi,c=this._proxy.style[b];bx(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),c===this._proxy.style[b]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){bn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var b=this.getCenter(),a=this.getZoom();bx(this._proxy,this.project(b,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(c,b,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated|| !1===a.animate||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(b),e=this._getCenterOffset(c)._divideBy(1-1/d);return!!(!0===a.animate||this.getSize().contains(e))&&(aV(function(){this._moveStart(!0,!1)._animateZoom(c,b,!0)},this),!0)},_animateZoom:function(a,b,c,d){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=b,bs(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:b,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(V(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&bt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}}),i=g.extend({options:{position:"topright"},initialize:function(a){X(this,a)},getPosition:function(){return this.options.position},setPosition:function(b){var a=this._map;return a&&a.removeControl(this),this.options.position=b,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var b=this._container=this.onAdd(a),d=this.getPosition(),c=a._controlCorners[d];return bs(b,"leaflet-control"),-1!==d.indexOf("bottom")?c.insertBefore(b,c.firstChild):c.appendChild(b),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(bn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),r=function(a){return new i(a)};b.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var c=this._controlCorners={},b="leaflet-",d=this._controlContainer=bm("div",b+"control-container",this._container);function a(a,e){c[a+e]=bm("div",b+a+" "+b+e,d)}a("top","left"),a("top","right"),a("bottom","left"),a("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)bn(this._controlCorners[a]);bn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var bQ=i.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(c,d,a,b){return a<b?-1:b<a?1:0}},initialize:function(b,c,d){for(var a in X(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,b)this._addLayer(b[a],a);for(a in c)this._addLayer(c[a],a,!0)},onAdd:function(b){this._initLayout(),this._update(),this._map=b,b.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return i.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,b){return this._addLayer(a,b),this._map?this._update():this},addOverlay:function(a,b){return this._addLayer(a,b,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var b=this._getLayer(W(a));return b&&this._layers.splice(this._layers.indexOf(b),1),this._map?this._update():this},expand:function(){bs(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(bs(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):bt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return bt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",b=this._container=bm("div",a),e=this.options.collapsed;b.setAttribute("aria-haspopup",!0),bJ(b),bI(b);var d=this._section=bm("section",a+"-list");e&&(this._map.on("click",this.collapse,this),ao(b,{mouseenter:function(){ao(d,"click",bK),this.expand(),setTimeout(function(){ap(d,"click",bK)})},mouseleave:this.collapse},this));var c=this._layersLink=bm("a",a+"-toggle",b);c.href="#",c.title="Layers",c.setAttribute("role","button"),ao(c,"click",bK),ao(c,"focus",this.expand,this),e||this.expand(),this._baseLayersList=bm("div",a+"-base",d),this._separator=bm("div",a+"-separator",d),this._overlaysList=bm("div",a+"-overlays",d),b.appendChild(d)},_getLayer:function(b){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&W(this._layers[a].layer)===b)return this._layers[a]},_addLayer:function(a,b,c){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:b,overlay:c}),this.options.sortLayers&&this._layers.sort(V(function(a,b){return this.options.sortFunction(a.layer,b.layer,a.name,b.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;bo(this._baseLayersList),bo(this._overlaysList),this._layerControlInputs=[];var a,d,c,b,e=0;for(c=0;c<this._layers.length;c++)b=this._layers[c],this._addItem(b),d=d||b.overlay,a=a||!b.overlay,e+=b.overlay?0:1;return this.options.hideSingleBase&&(a=a&&e>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=d&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var b=this._getLayer(W(a.target)),c=b.overlay?"add"===a.type?"overlayadd":"overlayremove":"add"===a.type?"baselayerchange":null;c&&this._map.fire(c,b)},_createRadioElement:function(b,c){var a=document.createElement("div");return a.innerHTML='<input type="radio" class="leaflet-control-layers-selector" name="'+b+'"'+(c?' checked="checked"':"")+"/>",a.firstChild},_addItem:function(b){var a,c=document.createElement("label"),e=this._map.hasLayer(b.layer);b.overlay?((a=document.createElement("input")).type="checkbox",a.className="leaflet-control-layers-selector",a.defaultChecked=e):a=this._createRadioElement("leaflet-base-layers_"+W(this),e),this._layerControlInputs.push(a),a.layerId=W(b.layer),ao(a,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+b.name;var d=document.createElement("span");return c.appendChild(d),d.appendChild(a),d.appendChild(f),(b.overlay?this._overlaysList:this._baseLayersList).appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){var b,e,f=this._layerControlInputs,c=[],d=[];this._handlingClick=!0;for(var a=f.length-1;a>=0;a--)b=f[a],e=this._getLayer(b.layerId).layer,b.checked?c.push(e):b.checked||d.push(e);for(a=0;a<d.length;a++)this._map.hasLayer(d[a])&&this._map.removeLayer(d[a]);for(a=0;a<c.length;a++)this._map.hasLayer(c[a])||this._map.addLayer(c[a]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var b,a,d=this._layerControlInputs,e=this._map.getZoom(),c=d.length-1;c>=0;c--)b=d[c],a=this._getLayer(b.layerId).layer,b.disabled=void 0!==a.options.minZoom&&e<a.options.minZoom|| void 0!==a.options.maxZoom&&e>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),bR=i.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var b="leaflet-control-zoom",c=bm("div",b+" leaflet-bar"),a=this.options;return this._zoomInButton=this._createButton(a.zoomInText,a.zoomInTitle,b+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(a.zoomOutText,a.zoomOutTitle,b+"-out",c,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(c,b,d,e,f){var a=bm("a",d,e);return a.innerHTML=c,a.href="#",a.title=b,a.setAttribute("role","button"),a.setAttribute("aria-label",b),bJ(a),ao(a,"click",bL),ao(a,"click",f,this),ao(a,"click",this._refocusOnMap,this),a},_updateDisabled:function(){var a=this._map,b="leaflet-disabled";bt(this._zoomInButton,b),bt(this._zoomOutButton,b),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(bs(this._zoomOutButton,b),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(bs(this._zoomInButton,b),this._zoomInButton.setAttribute("aria-disabled","true"))}});b.mergeOptions({zoomControl:!0}),b.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new bR,this.addControl(this.zoomControl))});var bS=i.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var b="leaflet-control-scale",c=bm("div",b),d=this.options;return this._addScales(d,b+"-line",c),a.on(d.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),c},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,b,c){a.metric&&(this._mScale=bm("div",b,c)),a.imperial&&(this._iScale=bm("div",b,c))},_update:function(){var a=this._map,b=a.getSize().y/2,c=a.distance(a.containerPointToLatLng([0,b]),a.containerPointToLatLng([this.options.maxWidth,b]));this._updateScales(c)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(b){var a=this._getRoundNum(b);this._updateScale(this._mScale,a<1e3?a+" m":a/1e3+" km",a/b)},_updateImperial:function(e){var b,c,d,a=3.2808399*e;a>5280?(b=a/5280,c=this._getRoundNum(b),this._updateScale(this._iScale,c+" mi",c/b)):(d=this._getRoundNum(a),this._updateScale(this._iScale,d+" ft",d/a))},_updateScale:function(a,b,c){a.style.width=Math.round(this.options.maxWidth*c)+"px",a.innerHTML=b},_getRoundNum:function(b){var c=Math.pow(10,(Math.floor(b)+"").length-1),a=b/c;return c*(a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1)}}),bT=i.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(c.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(a){X(this,a),this._attributions={}},onAdd:function(a){for(var b in a.attributionControl=this,this._container=bm("div","leaflet-control-attribution"),bJ(this._container),a._layers)a._layers[b].getAttribution&&this.addAttribution(a._layers[b].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a&&(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update()),this},removeAttribution:function(a){return a&&this._attributions[a]&&(this._attributions[a]--,this._update()),this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var b=[];this.options.prefix&&b.push(this.options.prefix),a.length&&b.push(a.join(", ")),this._container.innerHTML=b.join(' <span aria-hidden="true">|</span> ')}}});b.mergeOptions({attributionControl:!0}),b.addInitHook(function(){this.options.attributionControl&&new bT().addTo(this)}),i.Layers=bQ,i.Zoom=bR,i.Scale=bS,i.Attribution=bT,r.layers=function(a,b,c){return new bQ(a,b,c)},r.zoom=function(a){return new bR(a)},r.scale=function(a){return new bS(a)},r.attribution=function(a){return new bT(a)};var f=g.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}});f.addTo=function(a,b){return a.addHandler(b,this),this};var cM=c.touch?"touchstart mousedown":"mousedown",bU=m.extend({options:{clickTolerance:3},initialize:function(a,b,c,d){X(this,d),this._element=a,this._dragStartTarget=b||a,this._preventOutline=c},enable:function(){!this._enabled&&(ao(this._dragStartTarget,cM,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(bU._dragging===this&&this.finishDrag(!0),ap(this._dragStartTarget,cM,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(!(!this._enabled||(this._moved=!1,br(this._element,"leaflet-zoom-anim")))){if(a.touches&&1!==a.touches.length){bU._dragging===this&&this.finishDrag();return}if(!bU._dragging&&!a.shiftKey&&(1===a.which||1===a.button||a.touches)){if(bU._dragging=this,this._preventOutline&&bC(this._element),bA(),A(),!this._moving){this.fire("down");var b=a.touches?a.touches[0]:a,d=bE(this._element);this._startPoint=new Y(b.clientX,b.clientY),this._startPos=bz(this._element),this._parentScale=bF(d);var c="mousedown"===a.type;ao(document,c?"mousemove":"touchmove",this._onMove,this),ao(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&1===a.touches.length?a.touches[0]:a,b=new Y(c.clientX,c.clientY)._subtract(this._startPoint);!(!b.x&&!b.y||Math.abs(b.x)+Math.abs(b.y)<this.options.clickTolerance)&&(b.x/=this._parentScale.x,b.y/=this._parentScale.y,bK(a),this._moved||(this.fire("dragstart"),this._moved=!0,bs(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),bs(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),by(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){bt(document.body,"leaflet-dragging"),this._lastTarget&&(bt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ap(document,"mousemove touchmove",this._onMove,this),ap(document,"mouseup touchend touchcancel",this._onUp,this),bB(),B(),this._moved&&this._moving&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,bU._dragging=!1}});function bV(a,b){if(!b||!a.length)return a.slice();var c=b*b;return a=cN(a=cP(a,c),c)}function bW(a,b,c){return Math.sqrt(b$(a,b,c,!0))}function cN(d,f){var b=d.length,c=new("undefined"!=typeof Uint8Array?Uint8Array:Array)(b);c[0]=c[b-1]=1,cO(d,c,f,0,b-1);var a,e=[];for(a=0;a<b;a++)c[a]&&e.push(d[a]);return e}function cO(a,d,e,f,g){var c,b,i,h=0;for(b=f+1;b<=g-1;b++)(i=b$(a[b],a[f],a[g],!0))>h&&(c=b,h=i);h>e&&(d[c]=1,cO(a,d,e,f,c),cO(a,d,e,c,g))}function cP(a,f){for(var c=[a[0]],b=1,d=0,e=a.length;b<e;b++)cQ(a[b],a[d])>f&&(c.push(a[b]),d=b);return d<e-1&&c.push(a[e-1]),c}function bX(c,d,e,i,j){var g,f,h,a=i?ct:bZ(c,e),b=bZ(d,e);for(ct=b;;){if(!(a|b))return[c,d];if(a&b)return!1;g=a||b,f=bY(c,d,g,e,j),h=bZ(f,e),g===a?(c=f,a=h):(d=f,b=h)}}function bY(a,i,d,j,k){var b,c,e=i.x-a.x,f=i.y-a.y,g=j.min,h=j.max;return 8&d?(b=a.x+e*(h.y-a.y)/f,c=h.y):4&d?(b=a.x+e*(g.y-a.y)/f,c=g.y):2&d?(b=h.x,c=a.y+f*(h.x-a.x)/e):1&d&&(b=g.x,c=a.y+f*(g.x-a.x)/e),new Y(b,c,k)}function bZ(b,c){var a=0;return b.x<c.min.x?a|=1:b.x>c.max.x&&(a|=2),b.y<c.min.y?a|=4:b.y>c.max.y&&(a|=8),a}function cQ(a,b){var c=b.x-a.x,d=b.y-a.y;return c*c+d*d}function b$(e,h,f,j){var g,c=h.x,d=h.y,a=f.x-c,b=f.y-d,i=a*a+b*b;return i>0&&((g=((e.x-c)*a+(e.y-d)*b)/i)>1?(c=f.x,d=f.y):g>0&&(c+=a*g,d+=b*g)),a=e.x-c,b=e.y-d,j?a*a+b*b:new Y(c,d)}function b_(a){return!aP(a[0])||"object"!=typeof a[0][0]&& void 0!==a[0][0]}function aq(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),b_(a)}function b0(b,e,l){var f,a,k,i,g,h,j,c,d,m=[1,4,2,8];for(a=0,j=b.length;a<j;a++)b[a]._code=bZ(b[a],e);for(i=0;i<4;i++){for(a=0,c=m[i],f=[],k=(j=b.length)-1;a<j;k=a++)g=b[a],h=b[k],g._code&c?h._code&c||((d=bY(h,g,c,e,l))._code=bZ(d,e),f.push(d)):(h._code&c&&((d=bY(h,g,c,e,l))._code=bZ(d,e),f.push(d)),f.push(g));b=f}return b}var ar,K={project:function(a){return new Y(a.lng,a.lat)},unproject:function(a){return new $(a.y,a.x)},bounds:new n([-180,-90],[180,90])},M={R:6378137,R_MINOR:6356752.314245179,bounds:new n([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(c){var d=Math.PI/180,b=this.R,a=c.lat*d,e=this.R_MINOR/b,f=Math.sqrt(1-e*e),g=f*Math.sin(a),h=Math.tan(Math.PI/4-a/2)/Math.pow((1-g)/(1+g),f/2);return a=-b*Math.log(Math.max(h,1e-10)),new Y(c.lng*d*b,a)},unproject:function(e){for(var a,f=180/Math.PI,c=this.R,g=this.R_MINOR/c,h=Math.sqrt(1-g*g),i=Math.exp(-e.y/c),b=Math.PI/2-2*Math.atan(i),j=0,d=.1;j<15&&Math.abs(d)>1e-7;j++)a=h*Math.sin(b),a=Math.pow((1-a)/(1+a),h/2),d=Math.PI/2-2*Math.atan(i*a)-b,b+=d;return new $(b*f,e.x*f/c)}},b1=j({},s,{code:"EPSG:3395",projection:M,transformation:p(ar=.5/(Math.PI*M.R),.5,-ar,.5)}),b2=j({},s,{code:"EPSG:4326",projection:K,transformation:p(1/180,1,-1/180,.5)}),b3=j({},h,{projection:K,transformation:p(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,b){var c=b.lng-a.lng,d=b.lat-a.lat;return Math.sqrt(c*c+d*d)},infinite:!0});h.Earth=s,h.EPSG3395=b1,h.EPSG3857=D,h.EPSG900913=a0,h.EPSG4326=b2,h.Simple=b3;var e=m.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[W(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[W(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(b){var a=b.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var c=this.getEvents();a.on(c,this),this.once("remove",function(){a.off(c,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});b.include({addLayer:function(a){if(!a._layerAdd)throw Error("The provided object is not a Layer.");var b=W(a);return this._layers[b]||(this._layers[b]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a)),this},removeLayer:function(a){var b=W(a);return this._layers[b]&&(this._loaded&&a.onRemove(this),delete this._layers[b],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null),this},hasLayer:function(a){return W(a) in this._layers},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},_addLayers:function(a){a=a?aP(a)?a:[a]:[];for(var b=0,c=a.length;b<c;b++)this.addLayer(a[b])},_addZoomLimit:function(a){isNaN(a.options.maxZoom)&&isNaN(a.options.minZoom)||(this._zoomBoundLayers[W(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(b){var a=W(b);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,b=-1/0,d=this._getZoomSpan();for(var e in this._zoomBoundLayers){var c=this._zoomBoundLayers[e].options;a=void 0===c.minZoom?a:Math.min(a,c.minZoom),b=void 0===c.maxZoom?b:Math.max(b,c.maxZoom)}this._layersMaxZoom=b=== -1/0?void 0:b,this._layersMinZoom=a===1/0?void 0:a,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var N=e.extend({initialize:function(b,d){var a,c;if(X(this,d),this._layers={},b)for(a=0,c=b.length;a<c;a++)this.addLayer(b[a])},addLayer:function(a){var b=this.getLayerId(a);return this._layers[b]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var b=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[b]&&this._map.removeLayer(this._layers[b]),delete this._layers[b],this},hasLayer:function(a){return("number"==typeof a?a:this.getLayerId(a))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(b){var c,a,d=Array.prototype.slice.call(arguments,1);for(c in this._layers)(a=this._layers[c])[b]&&a[b].apply(a,d);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return W(a)}}),as=N.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),N.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),N.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var b=new Z;for(var c in this._layers){var a=this._layers[c];b.extend(a.getBounds?a.getBounds():a.getLatLng())}return b}}),v=g.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){X(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,b){var d=this._getIconUrl(a);if(!d){if("icon"===a)throw Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(d,b&&"IMG"===b.tagName?b:null);return this._setIconStyles(c,a),(this.options.crossOrigin||""===this.options.crossOrigin)&&(c.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),c},_setIconStyles:function(a,e){var d=this.options,b=d[e+"Size"];"number"==typeof b&&(b=[b,b]);var c=aY(b),f=aY("shadow"===e&&d.shadowAnchor||d.iconAnchor||c&&c.divideBy(2,!0));a.className="leaflet-marker-"+e+" "+(d.className||""),f&&(a.style.marginLeft=-f.x+"px",a.style.marginTop=-f.y+"px"),c&&(a.style.width=c.x+"px",a.style.height=c.y+"px")},_createImg:function(b,a){return(a=a||document.createElement("img")).src=b,a},_getIconUrl:function(a){return c.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}}),at=v.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return"string"!=typeof at.imagePath&&(at.imagePath=this._detectIconPath()),(this.options.imagePath||at.imagePath)+v.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var b=function(b,c,d){var a=c.exec(b);return a&&a[d]};return(a=b(a,/^url\((['"])?(.+)\1\)$/,2))&&b(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=bm("div","leaflet-default-icon-path",document.body),b=bl(a,"background-image")||bl(a,"backgroundImage");if(document.body.removeChild(a),b=this._stripUrl(b))return b;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),cR=f.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new bU(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),bs(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&bt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(g){var d=this._marker,e=d._map,j=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,c=bz(d._icon),b=e.getPixelBounds(),i=e.getPixelOrigin(),a=aZ(b.min._subtract(i).add(h),b.max._subtract(i).subtract(h));if(!a.contains(c)){var f=aY((Math.max(a.max.x,c.x)-a.max.x)/(b.max.x-a.max.x)-(Math.min(a.min.x,c.x)-a.min.x)/(b.min.x-a.min.x),(Math.max(a.max.y,c.y)-a.max.y)/(b.max.y-a.max.y)-(Math.min(a.min.y,c.y)-a.min.y)/(b.min.y-a.min.y)).multiplyBy(j);e.panBy(f,{animate:!1}),this._draggable._newPos._add(f),this._draggable._startPos._add(f),by(d._icon,this._draggable._newPos),this._onDrag(g),this._panRequest=aV(this._adjustPan.bind(this,g))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(aW(this._panRequest),this._panRequest=aV(this._adjustPan.bind(this,a)))},_onDrag:function(b){var a=this._marker,c=a._shadow,d=bz(a._icon),e=a._map.layerPointToLatLng(d);c&&by(c,d),a._latlng=e,b.latlng=e,b.oldLatLng=this._oldLatLng,a.fire("move",b).fire("drag",b)},_onDragEnd:function(a){aW(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),au=e.extend({options:{icon:new at,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,b){X(this,b),this._latlng=a_(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var b=this._latlng;return this._latlng=a_(a),this.update(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),b=a.icon.createIcon(this._icon),e=!1;b!==this._icon&&(this._icon&&this._removeIcon(),e=!0,a.title&&(b.title=a.title),"IMG"===b.tagName&&(b.alt=a.alt||"")),bs(b,d),a.keyboard&&(b.tabIndex="0",b.setAttribute("role","button")),this._icon=b,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ao(b,"focus",this._panOnFocus,this);var c=a.icon.createShadow(this._shadow),f=!1;c!==this._shadow&&(this._removeShadow(),f=!0),c&&(bs(c,d),c.alt=""),this._shadow=c,a.opacity<1&&this._updateOpacity(),e&&this.getPane().appendChild(this._icon),this._initInteraction(),c&&f&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ap(this._icon,"focus",this._panOnFocus,this),bn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&bn(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&by(this._icon,a),this._shadow&&by(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var b=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(b)},_initInteraction:function(){if(this.options.interactive&&(bs(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),cR)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new cR(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&bw(this._icon,a),this._shadow&&bw(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var b=this._map;if(b){var a=this.options.icon.options,d=a.iconSize?aY(a.iconSize):aY(0,0),c=a.iconAnchor?aY(a.iconAnchor):aY(0,0);b.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:d.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),w=e.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return X(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),O=w.extend({options:{fill:!0,radius:10},initialize:function(a,b){X(this,b),this._latlng=a_(a),this._radius=this.options.radius},setLatLng:function(a){var b=this._latlng;return this._latlng=a_(a),this.redraw(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var b=a&&a.radius||this._radius;return w.prototype.setStyle.call(this,a),this.setRadius(b),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,d=this._radiusY||a,b=this._clickTolerance(),c=[a+b,d+b];this._pxBounds=new n(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),av=O.extend({initialize:function(b,a,c){if("number"==typeof a&&(a=j({},c,{radius:a})),X(this,a),this._latlng=a_(b),isNaN(this.options.radius))throw Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new Z(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:w.prototype.setStyle,_project:function(){var g=this._latlng.lng,c=this._latlng.lat,a=this._map,h=a.options.crs;if(h.distance===s.distance){var b=Math.PI/180,e=this._mRadius/s.R/b,j=a.project([c+e,g]),k=a.project([c-e,g]),f=j.add(k).divideBy(2),i=a.unproject(f).lat,d=Math.acos((Math.cos(e*b)-Math.sin(c*b)*Math.sin(i*b))/(Math.cos(c*b)*Math.cos(i*b)))/b;(isNaN(d)||0===d)&&(d=e/Math.cos(Math.PI/180*c)),this._point=f.subtract(a.getPixelOrigin()),this._radius=isNaN(d)?0:f.x-a.project([i,g-d]).x,this._radiusY=f.y-j.y}else{var l=h.unproject(h.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(l).x}this._updateBounds()}}),x=w.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,b){X(this,b),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(g){for(var c,h,d=1/0,a=null,i=b$,e=0,k=this._parts.length;e<k;e++)for(var f=this._parts[e],b=1,l=f.length;b<l;b++){c=f[b-1];var j=i(g,c,h=f[b],!0);j<d&&(d=j,a=i(g,c,h))}return a&&(a.distance=Math.sqrt(d)),a},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");var a,d,g,e,f,b,h,c=this._rings[0],i=c.length;if(!i)return null;for(a=0,d=0;a<i-1;a++)d+=c[a].distanceTo(c[a+1])/2;if(0===d)return this._map.layerPointToLatLng(c[0]);for(a=0,e=0;a<i-1;a++)if(f=c[a],b=c[a+1],g=f.distanceTo(b),e+=g,e>d)return h=(e-d)/g,this._map.layerPointToLatLng([b.x-h*(b.x-f.x),b.y-h*(b.y-f.y)])},getBounds:function(){return this._bounds},addLatLng:function(a,b){return b=b||this._defaultShape(),a=a_(a),b.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new Z,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return b_(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(b){for(var c=[],d=b_(b),a=0,e=b.length;a<e;a++)d?(c[a]=a_(b[a]),this._bounds.extend(c[a])):c[a]=this._convertLatLngs(b[a]);return c},_project:function(){var a=new n;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),b=new Y(a,a);this._rawPxBounds&&(this._pxBounds=new n([this._rawPxBounds.min.subtract(b),this._rawPxBounds.max.add(b)]))},_projectLatlngs:function(b,d,e){var a,c,g=b[0]instanceof $,f=b.length;if(g){for(a=0,c=[];a<f;a++)c[a]=this._map.latLngToLayerPoint(b[a]),e.extend(c[a]);d.push(c)}else for(a=0;a<f;a++)this._projectLatlngs(b[a],d,e)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(h)){if(this.options.noClip){this._parts=this._rings;return}var c,a,b,i,g,d,e,f=this._parts;for(c=0,b=0,i=this._rings.length;c<i;c++)for(a=0,g=(e=this._rings[c]).length;a<g-1;a++)(d=bX(e[a],e[a+1],h,a,!0))&&(f[b]=f[b]||[],f[b].push(d[0]),(d[1]!==e[a+1]||a===g-2)&&(f[b].push(d[1]),b++))}},_simplifyPoints:function(){for(var b=this._parts,c=this.options.smoothFactor,a=0,d=b.length;a<d;a++)b[a]=bV(b[a],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,h){var b,a,c,f,g,d,i=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(b=0,f=this._parts.length;b<f;b++)for(a=0,c=(g=(d=this._parts[b]).length)-1;a<g;c=a++)if((h||0!==a)&&bW(e,d[c],d[a])<=i)return!0;return!1}});x._flat=aq;var P=x.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");var d,g,a,b,e,c,h,i,k,f=this._rings[0],j=f.length;if(!j)return null;for(d=0,c=h=i=0,g=j-1;d<j;g=d++)a=f[d],b=f[g],e=a.y*b.x-b.y*a.x,h+=(a.x+b.x)*e,i+=(a.y+b.y)*e,c+=3*e;return k=0===c?f[0]:[h/c,i/c],this._map.layerPointToLatLng(k)},_convertLatLngs:function(c){var a=x.prototype._convertLatLngs.call(this,c),b=a.length;return b>=2&&a[0]instanceof $&&a[0].equals(a[b-1])&&a.pop(),a},_setLatLngs:function(a){x.prototype._setLatLngs.call(this,a),b_(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return b_(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,d=new Y(c,c);if(a=new n(a.min.subtract(d),a.max.add(d)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(a)){if(this.options.noClip){this._parts=this._rings;return}for(var e,b=0,f=this._rings.length;b<f;b++)(e=b0(this._rings[b],a,!0)).length&&this._parts.push(e)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var f,b,c,d,e,g,i,j,h=!1;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(d=0,i=this._parts.length;d<i;d++)for(e=0,g=(j=(f=this._parts[d]).length)-1;e<j;g=e++)b=f[e],c=f[g],b.y>a.y!=c.y>a.y&&a.x<(c.x-b.x)*(a.y-b.y)/(c.y-b.y)+b.x&&(h=!h);return h||x.prototype._containsPoint.call(this,a,!0)}}),k=as.extend({initialize:function(a,b){X(this,b),this._layers={},a&&this.addData(a)},addData:function(a){var e,g,c,f=aP(a)?a:a.features;if(f){for(e=0,g=f.length;e<g;e++)((c=f[e]).geometries||c.geometry||c.features||c.coordinates)&&this.addData(c);return this}var d=this.options;if(d.filter&&!d.filter(a))return this;var b=b4(a,d);return b?(b.feature=ca(a),b.defaultOptions=b.options,this.resetStyle(b),d.onEachFeature&&d.onEachFeature(a,b),this.addLayer(b)):this},resetStyle:function(a){return void 0===a?this.eachLayer(this.resetStyle,this):(a.options=j({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(b){this._setLayerStyle(b,a)},this)},_setLayerStyle:function(b,a){b.setStyle&&("function"==typeof a&&(a=a(b.feature)),b.setStyle(a))}});function b4(d,a){var f,g,b,h,c="Feature"===d.type?d.geometry:d,e=c?c.coordinates:null,i=[],k=a&&a.pointToLayer,j=a&&a.coordsToLatLng||b5;if(!e&&!c)return null;switch(c.type){case"Point":return f=j(e),cS(k,d,f,a);case"MultiPoint":for(b=0,h=e.length;b<h;b++)f=j(e[b]),i.push(cS(k,d,f,a));return new as(i);case"LineString":case"MultiLineString":return g=b6(e,"LineString"===c.type?0:1,j),new x(g,a);case"Polygon":case"MultiPolygon":return g=b6(e,"Polygon"===c.type?1:2,j),new P(g,a);case"GeometryCollection":for(b=0,h=c.geometries.length;b<h;b++){var l=b4({geometry:c.geometries[b],type:"Feature",properties:d.properties},a);l&&i.push(l)}return new as(i);default:throw Error("Invalid GeoJSON object.")}}function cS(b,d,c,a){return b?b(d,c):new au(c,a&&a.markersInheritOptions&&a)}function b5(a){return new $(a[1],a[0],a[2])}function b6(b,c,d){for(var e,f=[],a=0,g=b.length;a<g;a++)e=c?b6(b[a],c-1,d):(d||b5)(b[a]),f.push(e);return f}function b7(a,b){return void 0!==(a=a_(a)).alt?[aK(a.lng,b),aK(a.lat,b),aK(a.alt,b)]:[aK(a.lng,b),aK(a.lat,b)]}function b8(c,d,e,f){for(var a=[],b=0,g=c.length;b<g;b++)a.push(d?b8(c[b],d-1,e,f):b7(c[b],f));return!d&&e&&a.push(a[0]),a}function b9(a,b){return a.feature?j({},a.feature,{geometry:b}):ca(b)}function ca(a){return"Feature"===a.type||"FeatureCollection"===a.type?a:{type:"Feature",properties:{},geometry:a}}var Q={toGeoJSON:function(a){return b9(this,{type:"Point",coordinates:b7(this.getLatLng(),a)})}};function aw(a,b){return new k(a,b)}au.include(Q),av.include(Q),O.include(Q),x.include({toGeoJSON:function(b){var a=!b_(this._latlngs),c=b8(this._latlngs,a?1:0,!1,b);return b9(this,{type:(a?"Multi":"")+"LineString",coordinates:c})}}),P.include({toGeoJSON:function(d){var a=!b_(this._latlngs),c=a&&!b_(this._latlngs[0]),b=b8(this._latlngs,c?2:a?1:0,!0,d);return a||(b=[b]),b9(this,{type:(c?"Multi":"")+"Polygon",coordinates:b})}}),N.include({toMultiPoint:function(b){var a=[];return this.eachLayer(function(c){a.push(c.toGeoJSON(b).geometry.coordinates)}),b9(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(c){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===a)return this.toMultiPoint(c);var d="GeometryCollection"===a,b=[];return(this.eachLayer(function(e){if(e.toGeoJSON){var f=e.toGeoJSON(c);if(d)b.push(f.geometry);else{var a=ca(f);"FeatureCollection"===a.type?b.push.apply(b,a.features):b.push(a)}}}),d)?b9(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});var R=e.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,b,c){this._url=a,this._bounds=a$(b),X(this,c)},onAdd:function(){!this._image&&(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(bs(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){bn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&bp(this._image),this},bringToBack:function(){return this._map&&bq(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=a$(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var b="IMG"===this._url.tagName,a=this._image=b?this._url:bm("img");if(bs(a,"leaflet-image-layer"),this._zoomAnimated&&bs(a,"leaflet-zoom-animated"),this.options.className&&bs(a,this.options.className),a.onselectstart=l,a.onmousemove=l,a.onload=V(this.fire,this,"load"),a.onerror=V(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(a.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),b){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(a){var b=this._map.getZoomScale(a.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;bx(this._image,c,b)},_reset:function(){var a=this._image,b=new n(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=b.getSize();by(a,b.min),a.style.width=c.x+"px",a.style.height=c.y+"px"},_updateOpacity:function(){bw(this._image,this.options.opacity)},_updateZIndex:function(){this._image&& void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),cb=R.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,a=this._image=e?this._url:bm("video");if(bs(a,"leaflet-image-layer"),this._zoomAnimated&&bs(a,"leaflet-zoom-animated"),this.options.className&&bs(a,this.options.className),a.onselectstart=l,a.onmousemove=l,a.onloadeddata=V(this.fire,this,"load"),e){for(var b=a.getElementsByTagName("source"),f=[],c=0;c<b.length;c++)f.push(b[c].src);this._url=b.length>0?f:[a.src];return}aP(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var d=0;d<this._url.length;d++){var g=bm("source");g.src=this._url[d],a.appendChild(g)}}}),cc=R.extend({_initImage:function(){var a=this._image=this._url;bs(a,"leaflet-image-layer"),this._zoomAnimated&&bs(a,"leaflet-zoom-animated"),this.options.className&&bs(a,this.options.className),a.onselectstart=l,a.onmousemove=l}}),S=e.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0},initialize:function(a,b){X(this,a),this._source=b},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&bw(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&bw(this._container,1),this.bringToFront(),this.options.interactive&&(bs(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(bw(this._container,0),this._removeTimeout=setTimeout(V(bn,void 0,this._container),200)):bn(this._container),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=a_(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&bp(this._container),this},bringToBack:function(){return this._map&&bq(this._container),this},_prepareOpen:function(b){var a=this._source;if(!a._map)return!1;if(a instanceof as){a=null;var c=this._source._layers;for(var d in c)if(c[d]._map){a=c[d];break}if(!a)return!1;this._source=a}if(!b){if(a.getCenter)b=a.getCenter();else if(a.getLatLng)b=a.getLatLng();else if(a.getBounds)b=a.getBounds().getCenter();else throw Error("Unable to get source layer LatLng.")}return this.setLatLng(b),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,b="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof b)a.innerHTML=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(b)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var b=this._map.latLngToLayerPoint(this._latlng),a=aY(this.options.offset),c=this._getAnchor();this._zoomAnimated?by(this._container,b.add(c)):a=a.add(b).add(c);var d=this._containerBottom=-a.y,e=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=d+"px",this._container.style.left=e+"px"}},_getAnchor:function(){return[0,0]}});b.include({_initOverlay:function(b,c,d,e){var a=c;return a instanceof b||(a=new b(e).setContent(c)),d&&a.setLatLng(d),a}}),e.include({_initOverlay:function(c,d,e,b){var a=e;return a instanceof c?(X(a,b),a._source=this):(a=d&&!b?d:new c(b,this)).setContent(e),a}});var cd=S.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,S.prototype.openOn.call(this,a)},onAdd:function(a){S.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),!this._source||(this._source.fire("popupopen",{popup:this},!0),this._source instanceof w||this._source.on("preclick",bH))},onRemove:function(a){S.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),!this._source||(this._source.fire("popupclose",{popup:this},!0),this._source instanceof w||this._source.off("preclick",bH))},getEvents:function(){var a=S.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",b=this._container=bm("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=bm("div",a+"-content-wrapper",b);if(this._contentNode=bm("div",a+"-content",d),bJ(b),bI(this._contentNode),ao(b,"contextmenu",bH),this._tipContainer=bm("div",a+"-tip-container",b),this._tip=bm("div",a+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=bm("a",a+"-close-button",b);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',ao(c,"click",this.close,this)}},_updateLayout:function(){var b=this._contentNode,a=b.style;a.width="",a.whiteSpace="nowrap";var c=b.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),a.width=c+1+"px",a.whiteSpace="",a.height="";var f=b.offsetHeight,d=this.options.maxHeight,e="leaflet-popup-scrolled";d&&f>d?(a.height=d+"px",bs(b,e)):bt(b,e),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var b=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),c=this._getAnchor();by(this._container,b.add(c))},_adjustPan:function(i){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var g=this._map,m=parseInt(bl(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+m,j=this._containerWidth,k=new Y(this._containerLeft,-h-this._containerBottom);k._add(bz(this._container));var a=g.layerPointToContainerPoint(k),l=aY(this.options.autoPanPadding),d=aY(this.options.autoPanPaddingTopLeft||l),e=aY(this.options.autoPanPaddingBottomRight||l),f=g.getSize(),b=0,c=0;a.x+j+e.x>f.x&&(b=a.x+j-f.x+e.x),a.x-b-d.x<0&&(b=a.x-d.x),a.y+h+e.y>f.y&&(c=a.y+h-f.y+e.y),a.y-c-d.y<0&&(c=a.y-d.y),(b||c)&&g.fire("autopanstart").panBy([b,c],{animate:i&&"moveend"===i.type})}},_getAnchor:function(){return aY(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});b.mergeOptions({closePopupOnClick:!0}),b.include({openPopup:function(a,b,c){return this._initOverlay(cd,a,b,c).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),e.include({bindPopup:function(a,b){return this._popup=this._initOverlay(cd,this._popup,a,b),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&this._popup._prepareOpen(a)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(this._popup&&this._map){bL(a);var b=a.layer||a.target;if(this._popup._source===b&&!(b instanceof w)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=b,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){13===a.originalEvent.keyCode&&this._openPopup(a)}});var ce=S.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){S.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){S.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=S.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=bm("div",a)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(g){var a,b,h=this._map,c=this._container,k=h.latLngToContainerPoint(h.getCenter()),l=h.layerPointToContainerPoint(g),d=this.options.direction,f=c.offsetWidth,e=c.offsetHeight,i=aY(this.options.offset),j=this._getAnchor();"top"===d?(a=f/2,b=e):"bottom"===d?(a=f/2,b=0):"center"===d?(a=f/2,b=e/2):"right"===d?(a=0,b=e/2):"left"===d?(a=f,b=e/2):l.x<k.x?(d="right",a=0,b=e/2):(d="left",a=f+(i.x+j.x)*2,b=e/2),g=g.subtract(aY(a,b,!0)).add(i).add(j),bt(c,"leaflet-tooltip-right"),bt(c,"leaflet-tooltip-left"),bt(c,"leaflet-tooltip-top"),bt(c,"leaflet-tooltip-bottom"),bs(c,"leaflet-tooltip-"+d),by(c,g)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&bw(this._container,a)},_animateZoom:function(a){var b=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(b)},_getAnchor:function(){return aY(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});b.include({openTooltip:function(a,b,c){return this._initOverlay(ce,a,b,c).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),e.include({bindTooltip:function(a,b){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ce,this._tooltip,a,b),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(b){if(b||!this._tooltipHandlersAdded){var a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[b?"off":"on"](a),this._tooltipHandlersAdded=!b}},openTooltip:function(a){return this._tooltip&&this._tooltip._prepareOpen(a)&&this._tooltip.openOn(this._map),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_openTooltip:function(a){!(!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving())&&(this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0))},_moveTooltip:function(a){var b,c,d=a.latlng;this._tooltip.options.sticky&&a.originalEvent&&(b=this._map.mouseEventToContainerPoint(a.originalEvent),c=this._map.containerPointToLayerPoint(b),d=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(d)}});var cf=v.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(c){var a=c&&"DIV"===c.tagName?c:document.createElement("div"),b=this.options;if(b.html instanceof Element?(bo(a),a.appendChild(b.html)):a.innerHTML=!1!==b.html?b.html:"",b.bgPos){var d=aY(b.bgPos);a.style.backgroundPosition=-d.x+"px "+ -d.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});v.Default=at;var ax=e.extend({options:{tileSize:256,opacity:1,updateWhenIdle:c.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){X(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),bn(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(bp(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(bq(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=aI(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof Y?a:new Y(a,a)},_updateZIndex:function(){this._container&& void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(c){for(var d,e=this.getPane().children,a=-c(-1/0,1/0),b=0,f=e.length;b<f;b++)d=e[b].style.zIndex,e[b]!==this._container&&d&&(a=c(a,+d));isFinite(a)&&(this.options.zIndex=a+c(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!c.ielt9){bw(this._container,this.options.opacity);var f=+new Date,b=!1,d=!1;for(var g in this._tiles){var a=this._tiles[g];if(a.current&&a.loaded){var e=Math.min(1,(f-a.loaded)/200);bw(a.el,e),e<1?b=!0:(a.active?d=!0:this._onOpaqueTile(a),a.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),b&&(aW(this._fadeFrame),this._fadeFrame=aV(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){!this._container&&(this._container=bm("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var c=this._tileZoom,e=this.options.maxZoom;if(void 0!==c){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===c?(this._levels[a].el.style.zIndex=e-Math.abs(c-a),this._onUpdateLevel(a)):(bn(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var b=this._levels[c],d=this._map;return b||((b=this._levels[c]={}).el=bm("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=e,b.origin=d.project(d.unproject(d.getPixelOrigin()),c).round(),b.zoom=c,this._setZoomTransform(b,d.getCenter(),d.getZoom()),l(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var b,c,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(b in this._tiles)(c=this._tiles[b]).retain=c.current;for(b in this._tiles)if((c=this._tiles[b]).current&&!c.active){var a=c.coords;this._retainParent(a.x,a.y,a.z,a.z-5)||this._retainChildren(a.x,a.y,a.z,a.z+2)}for(b in this._tiles)this._tiles[b].retain||this._removeTile(b)}},_removeTilesAtZoom:function(b){for(var a in this._tiles)this._tiles[a].coords.z===b&&this._removeTile(a)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)bn(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(g,h,i,c){var d=Math.floor(g/2),e=Math.floor(h/2),b=i-1,f=new Y(+d,+e);f.z=+b;var j=this._tileCoordsToKey(f),a=this._tiles[j];return a&&a.active?(a.retain=!0,!0):(a&&a.loaded&&(a.retain=!0),b>c&&this._retainParent(d,e,b,c))},_retainChildren:function(e,f,d,g){for(var b=2*e;b<2*e+2;b++)for(var c=2*f;c<2*f+2;c++){var h=new Y(b,c);h.z=d+1;var i=this._tileCoordsToKey(h),a=this._tiles[i];if(a&&a.active){a.retain=!0;continue}a&&a.loaded&&(a.retain=!0),d+1<g&&this._retainChildren(b,c,d+1,g)}},_resetView:function(a){var b=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),b,b)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(b){var a=this.options;return void 0!==a.minNativeZoom&&b<a.minNativeZoom?a.minNativeZoom:void 0!==a.maxNativeZoom&&a.maxNativeZoom<b?a.maxNativeZoom:b},_setView:function(b,c,d,e){var a=Math.round(c);a=void 0!==this.options.maxZoom&&a>this.options.maxZoom|| void 0!==this.options.minZoom&&a<this.options.minZoom?void 0:this._clampZoom(a);var f=this.options.updateWhenZooming&&a!==this._tileZoom;(!e||f)&&(this._tileZoom=a,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==a&&this._update(b),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(b,c)},_setZoomTransforms:function(a,b){for(var c in this._levels)this._setZoomTransform(this._levels[c],a,b)},_setZoomTransform:function(a,f,b){var d=this._map.getZoomScale(b,a.zoom),e=a.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(f,b)).round();c.any3d?bx(a.el,e,d):by(a.el,e)},_resetGrid:function(){var b=this._map,a=b.options.crs,c=this._tileSize=this.getTileSize(),d=this._tileZoom,e=this._map.getPixelWorldBounds(this._tileZoom);e&&(this._globalTileRange=this._pxBoundsToTileRange(e)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(b.project([0,a.wrapLng[0]],d).x/c.x),Math.ceil(b.project([0,a.wrapLng[1]],d).x/c.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(b.project([a.wrapLat[0],0],d).y/c.x),Math.ceil(b.project([a.wrapLat[1],0],d).y/c.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(d){var a=this._map,e=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),f=a.getZoomScale(e,this._tileZoom),b=a.project(d,this._tileZoom).floor(),c=a.getSize().divideBy(2*f);return new n(b.subtract(c),b.add(c))},_update:function(d){var g=this._map;if(g){var j=this._clampZoom(g.getZoom());if(void 0===d&&(d=g.getCenter()),void 0!==this._tileZoom){var o=this._getTiledPixelBounds(d),a=this._pxBoundsToTileRange(o),q=a.getCenter(),c=[],e=this.options.keepBuffer,p=new n(a.getBottomLeft().subtract([e,-e]),a.getTopRight().add([e,-e]));if(!(isFinite(a.min.x)&&isFinite(a.min.y)&&isFinite(a.max.x)&&isFinite(a.max.y)))throw Error("Attempted to load an infinite number of tiles");for(var k in this._tiles){var h=this._tiles[k].coords;h.z===this._tileZoom&&p.contains(new Y(h.x,h.y))||(this._tiles[k].current=!1)}if(Math.abs(j-this._tileZoom)>1){this._setView(d,j);return}for(var i=a.min.y;i<=a.max.y;i++)for(var b=a.min.x;b<=a.max.x;b++){var f=new Y(b,i);if(f.z=this._tileZoom,this._isValidTile(f)){var l=this._tiles[this._tileCoordsToKey(f)];l?l.current=!0:c.push(f)}}if(c.sort(function(a,b){return a.distanceTo(q)-b.distanceTo(q)}),0!==c.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(b=0;b<c.length;b++)this._addTile(c[b],m);this._level.el.appendChild(m)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var b=this._globalTileRange;if(!c.wrapLng&&(a.x<b.min.x||a.x>b.max.x)|| !c.wrapLat&&(a.y<b.min.y||a.y>b.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(a);return a$(this.options.bounds).overlaps(d)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var b=this._map,c=this.getTileSize(),d=a.scaleBy(c),e=d.add(c),f=b.unproject(d,a.z),g=b.unproject(e,a.z);return[f,g]},_tileCoordsToBounds:function(c){var b=this._tileCoordsToNwSe(c),a=new Z(b[0],b[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(c){var a=c.split(":"),b=new Y(+a[0],+a[1]);return b.z=+a[2],b},_removeTile:function(a){var b=this._tiles[a];b&&(bn(b.el),delete this._tiles[a],this.fire("tileunload",{tile:b.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){bs(a,"leaflet-tile");var b=this.getTileSize();a.style.width=b.x+"px",a.style.height=b.y+"px",a.onselectstart=l,a.onmousemove=l,c.ielt9&&this.options.opacity<1&&bw(a,this.options.opacity)},_addTile:function(a,c){var d=this._getTilePos(a),e=this._tileCoordsToKey(a),b=this.createTile(this._wrapCoords(a),V(this._tileReady,this,a));this._initTile(b),this.createTile.length<2&&aV(V(this._tileReady,this,a,null,b)),by(b,d),this._tiles[e]={el:b,coords:a,current:!0},c.appendChild(b),this.fire("tileloadstart",{tile:b,coords:a})},_tileReady:function(b,d,a){d&&this.fire("tileerror",{error:d,tile:a,coords:b});var e=this._tileCoordsToKey(b);(a=this._tiles[e])&&(a.loaded=+new Date,this._map._fadeAnimated?(bw(a.el,0),aW(this._fadeFrame),this._fadeFrame=aV(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),d||(bs(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:b})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),c.ielt9||!this._map._fadeAnimated?aV(this._pruneTiles,this):setTimeout(V(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var b=new Y(this._wrapX?aJ(a.x,this._wrapX):a.x,this._wrapY?aJ(a.y,this._wrapY):a.y);return b.z=a.z,b},_pxBoundsToTileRange:function(a){var b=this.getTileSize();return new n(a.min.unscaleBy(b).floor(),a.max.unscaleBy(b).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}}),T=ax.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(b,a){this._url=b,(a=X(this,a)).detectRetina&&c.retina&&a.maxZoom>0&&(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom++):(a.zoomOffset++,a.maxZoom--),a.minZoom=Math.max(0,a.minZoom)),"string"==typeof a.subdomains&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(b,a){return this._url===b&& void 0===a&&(a=!0),this._url=b,a||this.redraw(),this},createTile:function(c,b){var a=document.createElement("img");return ao(a,"load",V(this._tileOnLoad,this,b,a)),ao(a,"error",V(this._tileOnError,this,b,a)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(a.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.setAttribute("role","presentation"),a.src=this.getTileUrl(c),a},getTileUrl:function(a){var b={r:c.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-a.y;this.options.tms&&(b.y=d),b["-y"]=d}return aO(this._url,j(b,this.options))},_tileOnLoad:function(a,b){c.ielt9?setTimeout(V(a,this,null,b),0):a(null,b)},_tileOnError:function(c,a,d){var b=this.options.errorTileUrl;b&&a.getAttribute("src")!==b&&(a.src=b),c(d,a)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,b=this.options.maxZoom,c=this.options.zoomReverse,d=this.options.zoomOffset;return c&&(a=b-a),a+d},_getSubdomain:function(a){var b=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[b]},_abortLoading:function(){var b,a;for(b in this._tiles)if(this._tiles[b].coords.z!==this._tileZoom&&((a=this._tiles[b].el).onload=l,a.onerror=l,!a.complete)){a.src=aR;var c=this._tiles[b].coords;bn(a),delete this._tiles[b],this.fire("tileabort",{tile:a,coords:c})}},_removeTile:function(a){var b=this._tiles[a];if(b)return b.el.setAttribute("src",aR),ax.prototype._removeTile.call(this,a)},_tileReady:function(b,c,a){if(this._map&&(!a||a.getAttribute("src")!==aR))return ax.prototype._tileReady.call(this,b,c,a)}});function ay(a,b){return new T(a,b)}var cg=T.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(g,a){this._url=g;var b=j({},this.defaultWmsParams);for(var d in a)d in this.options||(b[d]=a[d]);var e=(a=X(this,a)).detectRetina&&c.retina?2:1,f=this.getTileSize();b.width=f.x*e,b.height=f.y*e,this.wmsParams=b},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var b=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[b]=this._crs.code,T.prototype.onAdd.call(this,a)},getTileUrl:function(c){var d=this._tileCoordsToNwSe(c),e=this._crs,f=aZ(e.project(d[0]),e.project(d[1])),a=f.min,b=f.max,h=(this._wmsVersion>=1.3&&this._crs===b2?[a.y,a.x,b.y,b.x]:[a.x,a.y,b.x,b.y]).join(","),g=T.prototype.getTileUrl.call(this,c);return g+aN(this.wmsParams,g,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+h},setParams:function(a,b){return j(this.wmsParams,a),b||this.redraw(),this}});T.WMS=cg,ay.wms=function(a,b){return new cg(a,b)};var U=e.extend({options:{padding:.1},initialize:function(a){X(this,a),W(this),this._layers=this._layers||{}},onAdd:function(){!this._container&&(this._initContainer(),this._zoomAnimated&&bs(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,a){var b=this._map.getZoomScale(a,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,a),d=f.multiplyBy(-b).add(g).subtract(this._map._getNewPixelOrigin(e,a));c.any3d?bx(this._container,d,b):by(this._container,d)},_reset:function(){for(var a in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,b=this._map.getSize(),c=this._map.containerPointToLayerPoint(b.multiplyBy(-a)).round();this._bounds=new n(c,c.add(b.multiplyBy(1+2*a)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ch=U.extend({options:{tolerance:0},getEvents:function(){var a=U.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){U.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");ao(a,"mousemove",this._onMouseMove,this),ao(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ao(a,"mouseout",this._handleMouseOut,this),a["_leaflet_disable_events"]=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){aW(this._redrawRequest),delete this._ctx,bn(this._container),ap(this._container),delete this._container},_updatePaths:function(){var b;if(!this._postponeUpdatePaths){for(var a in this._redrawBounds=null,this._layers)(0,this._layers[a])._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){U.prototype._update.call(this);var b=this._bounds,a=this._container,d=b.getSize(),e=c.retina?2:1;by(a,b.min),a.width=e*d.x,a.height=e*d.y,a.style.width=d.x+"px",a.style.height=d.y+"px",c.retina&&this._ctx.scale(2,2),this._ctx.translate(-b.min.x,-b.min.y),this.fire("update")}},_reset:function(){U.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[W(a)]=a;var b=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=b),this._drawLast=b,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var d=a._order,b=d.next,c=d.prev;b?b.prev=c:this._drawLast=c,c?c.next=b:this._drawFirst=b,delete a._order,delete this._layers[W(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if("string"==typeof a.options.dashArray){var c,b,d=a.options.dashArray.split(/[, ]+/),e=[];for(b=0;b<d.length;b++){if(isNaN(c=Number(d[b])))return;e.push(c)}a.options._dashArray=e}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||aV(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var b=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new n,this._redrawBounds.extend(a._pxBounds.min.subtract([b,b])),this._redrawBounds.extend(a._pxBounds.max.add([b,b]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var b=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,b.x,b.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var b,a=this._redrawBounds;if(this._ctx.save(),a){var d=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)b=c.layer,(!a||b._pxBounds&&b._pxBounds.intersects(a))&&b._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(f,i){if(this._drawing){var a,b,g,d,e=f._parts,h=e.length,c=this._ctx;if(h){for(c.beginPath(),a=0;a<h;a++){for(b=0,g=e[a].length;b<g;b++)d=e[a][b],c[b?"lineTo":"moveTo"](d.x,d.y);i&&c.closePath()}this._fillStroke(c,f)}}},_updateCircle:function(b){if(!(!this._drawing||b._empty())){var e=b._point,a=this._ctx,d=Math.max(Math.round(b._radius),1),c=(Math.max(Math.round(b._radiusY),1)||d)/d;1!==c&&(a.save(),a.scale(1,c)),a.beginPath(),a.arc(e.x,e.y/c,d,0,2*Math.PI,!1),1!==c&&a.restore(),this._fillStroke(a,b)}},_fillStroke:function(b,c){var a=c.options;a.fill&&(b.globalAlpha=a.fillOpacity,b.fillStyle=a.fillColor||a.color,b.fill(a.fillRule||"evenodd")),a.stroke&&0!==a.weight&&(b.setLineDash&&b.setLineDash(c.options&&c.options._dashArray||[]),b.globalAlpha=a.opacity,b.lineWidth=a.weight,b.strokeStyle=a.color,b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.stroke())},_onClick:function(a){for(var b,d,e=this._map.mouseEventToLayerPoint(a),c=this._drawFirst;c;c=c.next)(b=c.layer).options.interactive&&b._containsPoint(e)&&(!("click"===a.type||"preclick"===a.type)||!this._map._draggableMoved(b))&&(d=b);this._fireEvent(!!d&&[d],a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving())&&!this._map._animatingZoom){var b=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,b)}},_handleMouseOut:function(b){var a=this._hoveredLayer;a&&(bt(this._container,"leaflet-interactive"),this._fireEvent([a],b,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(c,e){if(!this._mouseHoverThrottled){for(var d,a,b=this._drawFirst;b;b=b.next)(d=b.layer).options.interactive&&d._containsPoint(e)&&(a=d);a!==this._hoveredLayer&&(this._handleMouseOut(c),a&&(bs(this._container,"leaflet-interactive"),this._fireEvent([a],c,"mouseover"),this._hoveredLayer=a)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],c),this._mouseHoverThrottled=!0,setTimeout(V(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(b,a,c){this._map._fireDOMEvent(a,c||a.type,b)},_bringToFront:function(d){var a=d._order;if(a){var b=a.next,c=a.prev;b&&(b.prev=c,c?c.next=b:b&&(this._drawFirst=b),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(d))}},_bringToBack:function(d){var a=d._order;if(a){var c=a.next,b=a.prev;b&&(b.next=c,c?c.prev=b:b&&(this._drawLast=b),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(d))}}});function ci(a){return c.canvas?new ch(a):null}var cj=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch(a){}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ck=c.vml?cj:aa,y=U.extend({_initContainer:function(){this._container=ck("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ck("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){bn(this._container),ap(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){U.prototype._update.call(this);var b=this._bounds,a=b.getSize(),c=this._container;this._svgSize&&this._svgSize.equals(a)||(this._svgSize=a,c.setAttribute("width",a.x),c.setAttribute("height",a.y)),by(c,b.min),c.setAttribute("viewBox",[b.min.x,b.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(a){var b=a._path=ck("path");a.options.className&&bs(b,a.options.className),a.options.interactive&&bs(b,"leaflet-interactive"),this._updateStyle(a),this._layers[W(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){bn(a._path),a.removeInteractiveTarget(a._path),delete this._layers[W(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(c){var a=c._path,b=c.options;a&&(b.stroke?(a.setAttribute("stroke",b.color),a.setAttribute("stroke-opacity",b.opacity),a.setAttribute("stroke-width",b.weight),a.setAttribute("stroke-linecap",b.lineCap),a.setAttribute("stroke-linejoin",b.lineJoin),b.dashArray?a.setAttribute("stroke-dasharray",b.dashArray):a.removeAttribute("stroke-dasharray"),b.dashOffset?a.setAttribute("stroke-dashoffset",b.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),b.fill?(a.setAttribute("fill",b.fillColor||b.color),a.setAttribute("fill-opacity",b.fillOpacity),a.setAttribute("fill-rule",b.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(a,b){this._setPath(a,a1(a._parts,b))},_updateCircle:function(a){var c=a._point,b=Math.max(Math.round(a._radius),1),e=Math.max(Math.round(a._radiusY),1)||b,d="a"+b+","+e+" 0 1,0 ",f=a._empty()?"M0 0":"M"+(c.x-b)+","+c.y+d+2*b+",0 "+d+ -(2*b)+",0 ";this._setPath(a,f)},_setPath:function(a,b){a._path.setAttribute("d",b)},_bringToFront:function(a){bp(a._path)},_bringToBack:function(a){bq(a._path)}});function cl(a){return c.svg||c.vml?new y(a):null}c.vml&&y.include({_initContainer:function(){this._container=bm("div","leaflet-vml-container")},_update:function(){!this._map._animatingZoom&&(U.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var b=a._container=cj("shape");bs(b,"leaflet-vml-shape "+(this.options.className||"")),b.coordsize="1 1",a._path=cj("path"),b.appendChild(a._path),this._updateStyle(a),this._layers[W(a)]=a},_addPath:function(a){var b=a._container;this._container.appendChild(b),a.options.interactive&&a.addInteractiveTarget(b)},_removePath:function(a){var b=a._container;bn(b),a.removeInteractiveTarget(b),delete this._layers[W(a)]},_updateStyle:function(c){var b=c._stroke,d=c._fill,a=c.options,e=c._container;e.stroked=!!a.stroke,e.filled=!!a.fill,a.stroke?(b||(b=c._stroke=cj("stroke")),e.appendChild(b),b.weight=a.weight+"px",b.color=a.color,b.opacity=a.opacity,a.dashArray?b.dashStyle=aP(a.dashArray)?a.dashArray.join(" "):a.dashArray.replace(/( *, *)/g," "):b.dashStyle="",b.endcap=a.lineCap.replace("butt","flat"),b.joinstyle=a.lineJoin):b&&(e.removeChild(b),c._stroke=null),a.fill?(d||(d=c._fill=cj("fill")),e.appendChild(d),d.color=a.fillColor||a.color,d.opacity=a.fillOpacity):d&&(e.removeChild(d),c._fill=null)},_updateCircle:function(a){var b=a._point.round(),c=Math.round(a._radius),d=Math.round(a._radiusY||c);this._setPath(a,a._empty()?"M0 0":"AL "+b.x+","+b.y+" "+c+","+d+" 0,23592600")},_setPath:function(a,b){a._path.v=b},_bringToFront:function(a){bp(a._container)},_bringToBack:function(a){bq(a._container)}}),b.include({getRenderer:function(b){var a=b.options.renderer||this._getPaneRenderer(b.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(a){if("overlayPane"===a|| void 0===a)return!1;var b=this._paneRenderers[a];return void 0===b&&(b=this._createRenderer({pane:a}),this._paneRenderers[a]=b),b},_createRenderer:function(a){return this.options.preferCanvas&&ci(a)||cl(a)}});var cm=P.extend({initialize:function(a,b){P.prototype.initialize.call(this,this._boundsToLatLngs(a),b)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return[(a=a$(a)).getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});y.create=ck,y.pointsToPath=a1,k.geometryToLayer=b4,k.coordsToLatLng=b5,k.coordsToLatLngs=b6,k.latLngToCoords=b7,k.latLngsToCoords=b8,k.getFeature=b9,k.asFeature=ca,b.mergeOptions({boxZoom:!0});var az=f.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){ao(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ap(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){bn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||1!==a.which&&1!==a.button)return!1;this._clearDeferredResetState(),this._resetState(),A(),bA(),this._startPoint=this._map.mouseEventToContainerPoint(a),ao(document,{contextmenu:bL,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(c){this._moved||(this._moved=!0,this._box=bm("div","leaflet-zoom-box",this._container),bs(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(c);var a=new n(this._point,this._startPoint),b=a.getSize();by(this._box,a.min),this._box.style.width=b.x+"px",this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(bn(this._box),bt(this._container,"leaflet-crosshair")),B(),bB(),ap(document,{contextmenu:bL,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(1===a.which||1===a.button){if(this._finish(),this._moved){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(V(this._resetState,this),0);var b=new Z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(b).fire("boxzoomend",{boxZoomBounds:b})}}},_onKeyDown:function(a){27===a.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});b.addInitHook("addHandler","boxZoom",az),b.mergeOptions({doubleClickZoom:!0});var aA=f.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(b){var a=this._map,c=a.getZoom(),d=a.options.zoomDelta,e=b.originalEvent.shiftKey?c-d:c+d;"center"===a.options.doubleClickZoom?a.setZoom(e):a.setZoomAround(b.containerPoint,e)}});b.addInitHook("addHandler","doubleClickZoom",aA),b.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var aB=f.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new bU(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}bs(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){bt(this._map._container,"leaflet-grab"),bt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var b=a$(this._map.options.maxBounds);this._offsetLimit=aZ(this._map.latLngToContainerPoint(b.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(b.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var b=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(b),this._prunePositions(b)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),b=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=b.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,b){return a-(a-b)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var a=this._draggable._newPos.subtract(this._draggable._startPos),b=this._offsetLimit;a.x<b.min.x&&(a.x=this._viscousLimit(a.x,b.min.x)),a.y<b.min.y&&(a.y=this._viscousLimit(a.y,b.min.y)),a.x>b.max.x&&(a.x=this._viscousLimit(a.x,b.max.x)),a.y>b.max.y&&(a.y=this._viscousLimit(a.y,b.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var c=this._worldWidth,b=Math.round(c/2),a=this._initialWorldOffset,d=this._draggable._newPos.x,e=(d-b+a)%c+b-a,f=(d+b+a)%c-b-a;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Math.abs(e+a)<Math.abs(f+a)?e:f},_onDragEnd:function(d){var a=this._map,b=a.options,i=!b.inertia||d.noInertia||this._times.length<2;if(a.fire("dragend",d),i)a.fire("moveend");else{this._prunePositions(+new Date);var j=this._lastPos.subtract(this._positions[0]),k=(this._lastTime-this._times[0])/1e3,e=b.easeLinearity,f=j.multiplyBy(e/k),g=f.distanceTo([0,0]),h=Math.min(b.inertiaMaxSpeed,g),l=f.multiplyBy(h/g),m=h/(b.inertiaDeceleration*e),c=l.multiplyBy(-m/2).round();c.x||c.y?(c=a._limitOffset(c,a.options.maxBounds),aV(function(){a.panBy(c,{duration:m,easeLinearity:e,noMoveStart:!0,animate:!0})})):a.fire("moveend")}}});b.addInitHook("addHandler","dragging",aB),b.mergeOptions({keyboard:!0,keyboardPanDelta:80});var aC=f.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),ao(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ap(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,b=document.documentElement,c=a.scrollTop||b.scrollTop,d=a.scrollLeft||b.scrollLeft;this._map._container.focus(),window.scrollTo(d,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var a,b,e=this._panKeys={},c=this.keyCodes;for(a=0,b=c.left.length;a<b;a++)e[c.left[a]]=[-1*d,0];for(a=0,b=c.right.length;a<b;a++)e[c.right[a]]=[d,0];for(a=0,b=c.down.length;a<b;a++)e[c.down[a]]=[0,d];for(a=0,b=c.up.length;a<b;a++)e[c.up[a]]=[0,-1*d]},_setZoomDelta:function(d){var a,b,e=this._zoomKeys={},c=this.keyCodes;for(a=0,b=c.zoomIn.length;a<b;a++)e[c.zoomIn[a]]=d;for(a=0,b=c.zoomOut.length;a<b;a++)e[c.zoomOut[a]]=-d},_addHooks:function(){ao(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ap(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(b){if(!b.altKey&&!b.ctrlKey&&!b.metaKey){var d,c=b.keyCode,a=this._map;if(c in this._panKeys)a._panAnim&&a._panAnim._inProgress||(d=this._panKeys[c],b.shiftKey&&(d=aY(d).multiplyBy(3)),a.panBy(d),a.options.maxBounds&&a.panInsideBounds(a.options.maxBounds));else if(c in this._zoomKeys)a.setZoom(a.getZoom()+(b.shiftKey?3:1)*this._zoomKeys[c]);else{if(27!==c||!a._popup||!a._popup.options.closeOnEscapeKey)return;a.closePopup()}bL(b)}}});b.addInitHook("addHandler","keyboard",aC),b.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var aD=f.extend({addHooks:function(){ao(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ap(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var b=bN(a),c=this._map.options.wheelDebounceTime;this._delta+=b,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var d=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(V(this._performZoom,this),d),bL(a)},_performZoom:function(){var a=this._map,b=a.getZoom(),c=this._map.options.zoomSnap||0;a._stop();var e=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,f=c?Math.ceil(e/c)*c:e,d=a._limitZoom(b+(this._delta>0?f:-f))-b;this._delta=0,this._startTime=null,d&&("center"===a.options.scrollWheelZoom?a.setZoom(b+d):a.setZoomAround(this._lastMousePos,b+d))}});b.addInitHook("addHandler","scrollWheelZoom",aD),b.mergeOptions({tapHold:c.touchNative&&c.safari&&c.mobile,tapTolerance:15});var aE=f.extend({addHooks:function(){ao(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ap(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),1===a.touches.length){var b=a.touches[0];this._startPos=this._newPos=new Y(b.clientX,b.clientY),this._holdTimeout=setTimeout(V(function(){this._cancel(),this._isTapValid()&&(ao(document,"touchend",bK),ao(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",b))},this),600),ao(document,"touchend touchcancel contextmenu",this._cancel,this),ao(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){ap(document,"touchend",bK),ap(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),ap(document,"touchend touchcancel contextmenu",this._cancel,this),ap(document,"touchmove",this._onMove,this)},_onMove:function(b){var a=b.touches[0];this._newPos=new Y(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(c,a){var b=new MouseEvent(c,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});b._simulated=!0,a.target.dispatchEvent(b)}});b.addInitHook("addHandler","tapHold",aE),b.mergeOptions({touchZoom:c.touch,bounceAtZoomLimits:!0});var aF=f.extend({addHooks:function(){bs(this._map._container,"leaflet-touch-zoom"),ao(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),ap(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(b){var a=this._map;if(b.touches&&2===b.touches.length&&!a._animatingZoom&&!this._zooming){var c=a.mouseEventToContainerPoint(b.touches[0]),d=a.mouseEventToContainerPoint(b.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),"center"!==a.options.touchZoom&&(this._pinchStartLatLng=a.containerPointToLatLng(c.add(d)._divideBy(2))),this._startDist=c.distanceTo(d),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),ao(document,"touchmove",this._onTouchMove,this),ao(document,"touchend touchcancel",this._onTouchEnd,this),bK(b)}},_onTouchMove:function(b){if(b.touches&&2===b.touches.length&&this._zooming){var a=this._map,e=a.mouseEventToContainerPoint(b.touches[0]),f=a.mouseEventToContainerPoint(b.touches[1]),c=e.distanceTo(f)/this._startDist;if(this._zoom=a.getScaleZoom(c,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&c<1||this._zoom>a.getMaxZoom()&&c>1)&&(this._zoom=a._limitZoom(this._zoom)),"center"===a.options.touchZoom){if(this._center=this._startLatLng,1===c)return}else{var d=e._add(f)._divideBy(2)._subtract(this._centerPoint);if(1===c&&0===d.x&&0===d.y)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(d),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),aW(this._animRequest);var g=V(a._move,a,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=aV(g,this,!0),bK(b)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,aW(this._animRequest),ap(document,"touchmove",this._onTouchMove,this),ap(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});b.addInitHook("addHandler","touchZoom",aF),b.BoxZoom=az,b.DoubleClickZoom=aA,b.Drag=aB,b.Keyboard=aC,b.ScrollWheelZoom=aD,b.TapHold=aE,b.TouchZoom=aF,a.Bounds=n,a.Browser=c,a.CRS=h,a.Canvas=ch,a.Circle=av,a.CircleMarker=O,a.Class=g,a.Control=i,a.DivIcon=cf,a.DivOverlay=S,a.DomEvent={__proto__:null,on:ao,off:ap,stopPropagation:bH,disableScrollPropagation:bI,disableClickPropagation:bJ,preventDefault:bK,stop:bL,getMousePosition:bM,getWheelDelta:bN,isExternalTarget:bO,addListener:ao,removeListener:ap},a.DomUtil=bG,a.Draggable=bU,a.Evented=m,a.FeatureGroup=as,a.GeoJSON=k,a.GridLayer=ax,a.Handler=f,a.Icon=v,a.ImageOverlay=R,a.LatLng=$,a.LatLngBounds=Z,a.Layer=e,a.LayerGroup=N,a.LineUtil={__proto__:null,simplify:bV,pointToSegmentDistance:bW,closestPointOnSegment:function(a,b,c){return b$(a,b,c)},clipSegment:bX,_getEdgeIntersection:bY,_getBitCode:bZ,_sqClosestPointOnSegment:b$,isFlat:b_,_flat:aq},a.Map=b,a.Marker=au,a.Mixin={Events:d},a.Path=w,a.Point=Y,a.PolyUtil={__proto__:null,clipPolygon:b0},a.Polygon=P,a.Polyline=x,a.Popup=cd,a.PosAnimation=bP,a.Projection={__proto__:null,LonLat:K,Mercator:M,SphericalMercator:C},a.Rectangle=cm,a.Renderer=U,a.SVG=y,a.SVGOverlay=cc,a.TileLayer=T,a.Tooltip=ce,a.Transformation=_,a.Util=aX,a.VideoOverlay=cb,a.bind=V,a.bounds=aZ,a.canvas=ci,a.circle=function(a,b,c){return new av(a,b,c)},a.circleMarker=function(a,b){return new O(a,b)},a.control=r,a.divIcon=function(a){return new cf(a)},a.extend=j,a.featureGroup=function(a,b){return new as(a,b)},a.geoJSON=aw,a.geoJson=aw,a.gridLayer=function(a){return new ax(a)},a.icon=function(a){return new v(a)},a.imageOverlay=function(a,b,c){return new R(a,b,c)},a.latLng=a_,a.latLngBounds=a$,a.layerGroup=function(a,b){return new N(a,b)},a.map=function(a,c){return new b(a,c)},a.marker=function(a,b){return new au(a,b)},a.point=aY,a.polygon=function(a,b){return new P(a,b)},a.polyline=function(a,b){return new x(a,b)},a.popup=function(a,b){return new cd(a,b)},a.rectangle=function(a,b){return new cm(a,b)},a.setOptions=X,a.stamp=W,a.svg=cl,a.svgOverlay=function(a,b,c){return new cc(a,b,c)},a.tileLayer=ay,a.tooltip=function(a,b){return new ce(a,b)},a.transformation=p,a.version="1.8.0",a.videoOverlay=function(a,b,c){return new cb(a,b,c)};var cT=window.L;a.noConflict=function(){return window.L=cT,this},window.L=a})}}])